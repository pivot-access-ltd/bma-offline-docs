<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="css/stylesheet.css" />
    <style>
      #selector a:link{color:black;}
      #selector a:visited{color:black;}
      #selector a:active{color:black;}
      #selector a:hover{color:blue;}
      #sidebar a:link{color:black;}
      #sidebar a:visited{color:black;}
      #sidebar a:active{color:black;}
      #sidebar a:hover{color:blue;}
      ul {margin-left:0;margin-top:0;margin-bottom:0;list-style-type:none;padding-left:20px;}
      li {margin: 4px 0;}
      details {margin-top:0;margin-bottom:0;}
      details > summary {
	  padding: 0px;
	  margin-top: 0px;
	  margin-bottom: 0px;
	  width: 200px;
	  background-color: #ffffff;
	  border: none;
	  cursor: pointer;
    	  list-style-type: "< ";
	  direction: rtl;
      }
      details[open] > summary {
	  list-style-type: "v ";
      }
    </style>
  </head>
  <body>
    <div id="selector" style="top:0; position:fixed; float:right; background-color:#d9d9d9; width:100%;border-bottom:1px solid black;">
      &nbsp;&nbsp;
      <strong>Offline docs
      </strong>
      <a href="https://maas.io/docs">(switch to live docs)
      </a>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <span style="background-color:white;border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; border-bottom:5px solid white;">
        &nbsp;UI-only&nbsp;
      </span>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <a href="../cli/how-to-connect-maas-networks.html">
        CLI-only
      </a>
    </div>
    <div id="sidebar" style="float:left; width:25%;margin-top:40px; margin-left:20px">
      <ul>
	<li>
          <a href="maas-documentation.html"><b>MAAS Documentation</b></a>
	</li>
	<hr style="margin-top:15px;">
	<li>
          <details>
            <summary><a href="tutorials.html">Tutorials</a></summary>
            <ul>
              <li>
		<details>
                  <summary>Try out MAAS</summary>
		  <ul>
		    <li>
		      <a href="bootstrap-maas.html">Bootstrap MAAS</a>
		    </li>
		    <li>
		      <a href="get-to-know-your-machines.html">Get to know your machines</a>
		    </li>
		  </ul>
		</details>
              </li>
	      <li>
		<a href="try-out-the-maas-cli.html">Try out the MAAS CLI</a>
	      </li>
	      <li>
		<a href="create-custom-images.html">Create custom images</a>
	      </li>
	      <li>
		<a href="get-fancy-cli-output.html">Get fancy CLI output</a>
	      </li>
              <li>
		<details>
                  <summary>Primer tutorials</summary>
		  <ul>
		    <li>
		      <a href="primer-tutorial-the-osi-model.html">OSI model tutorial</a>
		    </li>
		  </ul>
		</details>
              </li>
            </ul>
          </details>
	</li>
	<hr style="margin-top:15px;">
	<li>
          <details>
            <summary><a href="how-to-guides.html">How-to guides</a></summary>
            <ul>
              <li>
		<details>
                  <summary><a href="get-started-with-maas.thml">Get started with MAAS</a></summary>
		  <ul>
                    <li>
                      <a href="do-a-fresh-install-of-maas.html">Do a fresh install of MAAS</a>
		    </li>
		    <li>
                      <a href="upgrade-maas.html">Upgrade MAAS</a>
		    </li>
		    <li>
                      <a href="spin-up-maas-with-ansible.html">Spin up MAAS with Ansible</a>
		    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
                  <summary><a href="set-up-networks.html">Set up networks</a></summary>
		  <ul>
                    <li>
                      <a href="connect-maas-networks.html">Connect MAAS networks</a>
                    </li>
                    <li>
                      <a href="enable-dhcp.html">Enable DHCP</a>
                    </li>
                    <li>
                      <a href="use-availability-zones.html">Use availability zones</a>
                    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
                  <summary><a href="use-images.html">Use images</a></summary>
		  <ul>
                    <li>
                      <a href="use-standard-images.html">Use standard images</a>
                    </li>
                    <li>
                      <a href="mirror-images-locally.html">Mirror images locally</a>
                    </li>
                    <li>
                      <a href="customise-images.html">Customise images</a>
                    </li>
                    <li>
                      <a href="employ-vmware-images.html">Employ VMWare images</a>
                    </li>
                    <li>
                      <a href="deply-a-rt-kernel.html">Deploy a RT kernel</a>
                    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
                  <summary><a href="manage-controllers.html">Manage controllers</a></summary>
		  <ul>
		    <li>
		      <a href="configure-controllers.html">Configure controllers</a>
		    </li>
		    <li>
		      <a href="enable-high-availability.html">Enable high availability</a>
		    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
                  <summary><a href="manage-machines.html">Manage machines</a></summary>
		  <ul>
		    <li>
		      <a href="make-machines-available.html">Make machines available</a>
		    </li>
		    <li>
		      <a href="customise-machines.html">Customise machines</a>
		    </li>
		    <li>
		      <a href="put-machines-to-work.html">Put machines to work</a>
		    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
                  <summary><a href="use-virtual-machines.html">Use virtual machines</a></summary>
		  <ul>
		    <li>
		      <a href="set-up-lxd.html">Set up LXD</a>
		    </li>
		    <li>
		      <a href="manage-vm-hosts.html">Manage VM hosts</a>
		    </li>
		    <li>
		      <a href="manage-virtual-machines.html">Manage virtual machines</a>
		    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
                  <summary><a href="label-devices.html">Label devices</a></summary>
		  <ul>
		    <li>
		      <a href="tag-machines.html">Tag machines</a>
		    </li>
		    <li>
		      <a href="annotate-machines.html">Annotate machines</a>
		    </li>
		    <li>
		      <a href="use-machine-tags.html">Use machine tags</a>
		    </li>
		    <li>
		      <a href="use-controller-tags.html">Use controller tags</a>
		    </li>
		    <li>
		      <a href="use-storage-tags.html">Use storage tags</a>
		    </li>
		    <li>
		      <a href="use-network-tags.html">Use network tags</a>
		    </li>
		  </ul>
		</details>
              </li>
	      <li>
		<details>
                  <summary><a href="secure-maas.html">Secure MAAS</a></summary>
		  <ul>
		    <li>
		      <a href=.html"improve-MAAS-security.html">Improve MAAS security</a>
		    </li>
		    <li>
		      <a href="manage-user-accounts.html">Manage user accounts</a>
		    </li>
		    <li>
		      <a href="enable-MAAS-native TLS.html">Enable MAAS native TLS</a>
		    </li>
		    <li>
		      <a href="use-Vault-with-MAAS.html">Use Vault with MAAS</a>
		    </li>
		    <li>
		      <a href="set-up-an-air-gapped MAAS.html">Set up an air-gapped MAAS</a>
		    </li>
		  </ul>
		</details>
              </li>
            </ul>
          </details>
	</li>
	<hr style="margin-top:15px;">
	<li>
          <details>
            <summary><a href="reference.html">Reference</a></summary>
            <ul>
	      <details>
		<summary><a href="release-notes.html">Release notes</a></summary>
		<ul>
		  <li>
		    <a href="maas-3-4-release notes.html">MAAS 3.4 release notes</a>
              	  </li>
		  <li>
              	    <a href="maas-3-3-release notes.html">MAAS 3.3 release notes</a>
              	  </li>
		  <li>
              	    <a href="maas-3-2-release notes.html">MAAS 3.2 release notes</a>
              	  </li>
		  <li>
              	    <a href="maas-3-1-release notes.html">MAAS 3.1 release notes</a>
              	  </li>
		  <li>
              	    <a href="maas-3-0-release notes.html">MAAS 3.0 release notes</a>
              	  </li>
		  <li>
              	    <a href="maas-2-9-release notes.html">MAAS 2.9 release notes</a>
              	  </li>
		  <li>
              	    <a href="maas-2-8-release notes.html">MAAS 2.8 release notes</a>
              	  </li>
		  <li>
              	    <a href="maas-2-7-release notes.html">MAAS 2.7 release notes</a>
              	  </li>
		</ul>
	      </details>
              <li>
		<details>
                  <summary><a href="general-reference.html">General</a></summary>
		  <ul>
		    <li>
		      <a href="maas-settings.html">Settings</a>
		    </li>
		    <li>
		      <a href="https://launchpad.net/maas">Source code</a>
		    </li>
		    <li>
		      <a href="doc-style-guide.html">Doc style guide</a>
		    </li>
		    <li>
		      <a href="glossary.html">Glossary</a>
		    </li>
		    <li>
		      <a href="https://ubuntu.com/community/code-of-conduct">Code of conduct</a>
		    </li>
		  </ul>
		</details>
	      </li>
              <li>
		<details>
		  <summary><a href="api.html">API</a></summary>
		  <ul>
		    <li>
                      <a href="api-authentication.html">API authentication</a>
                    </li>
		    <li>
                      <a href="python-api-client.html">Python API client</a>
                    </li>
		    <li>
                      <a href="/docs/api">API documentation</a>
                    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
		  <summary><a href="scripts.html">Scripts</a></summary>
		  <ul>
		    <li>
                      <a href="commissioning-scripts.html">Commissioning scripts</a>
                    </li>
		    <li>
                      <a href="hardware-test-scripts.html">Hardware test scripts</a>
                    </li>
		    <li>
                      <a href="terraform.html">Terraform</a>
                    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
		  <summary><a href="logging.html">Logging</a></summary>
		  <ul>
		    <li>
                      <a href="event-logs.html">Event logs</a>
                    </li>
		    <li>
                      <a href="audit-event-logs.html">Audit event logs</a>
                    </li>
		    <li>
                      <a href="commissioning-logs.html">Commissioning logs</a>
                    </li>
		    <li>
                      <a href="testing-logs.html">Testing logs</a>
                    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
		  <summary><a href="machine-parameters.html">machine-parameters</a></summary>
		  <ul>
		    <li>
                      <a href=.html"power-drivers.html">Power drivers</a>
                    </li>
		    <li>
                      <a href="storage-layouts.html">Storage layouts</a>
                    </li>
		    <li>
                      <a href="device-labelling.html">Device labelling</a>
                    </li>
		  </ul>
		</details>
              </li>
	    </ul>
	  </details>
	</li>
	<hr style="margin-top:15px;">
	<li>
	  <details>
	    <summary><a href="explanation.html">Explanation</a></summary>
	    <ul>
	      <li>
		<a href="maas.html">About MAAS</a>
		-           </li>
	      <li>
		<a href=.html"high-availability.html">High availability</a>
              </li>
	      <li>
		<details>
		  <summary>Networking</summary>
		  <ul>
		    <li>
		      <a href="maas-networks.html">MAAS networks</a>
		    </li>
		    <li>
		      <a href="tcp/IP-primer.html">TCP/IP primer</a>
		    </li>
		    <li>
		      <a href="dhcp-primer.html">DHCP primer</a>
		    </li>
		    <li>
		      <a href="cloud-networking-primer.html">Cloud networking primer</a>
		    </li>
		  </ul>
		</details>
	      </li>
	      <li>
		<a href="images.html">Images</a>
              </li>
	      <li>
		<a href="controllers.html">Controllers</a>
              </li>
	      <li>
		<a href="machines.html">Machines</a>
              </li>
	      <li>
		<a href="virtual-machines.html">Virtual machines</a>
              </li>
	      <li>
		<a href="device-labels.html">Device labels</a>
              </li>
	      <li>
		<a href="maas-events.html">Events</a>
              </li>
	      <li>
		<a href="audit-events.html">Audit events</a>
              </li>
	      <li>
		<a href="maas-logging.html">Logging</a>
              </li>
	      <li>
		<a href="maas-security.html">Security</a>
              </li>
	      <li>
		<a href="maas-performance.html">Performance</a>
              </li>
	      <li>
		<a href="ansible.html">Ansible</a>
              </li>
	    </ul>
	  </details>
	</li>
      </ul>
    </div>
    <div class="container" style="float:right; width:65%; margin-top:40px; margin-right:30px">
      <h1>How to connect MAAS networks</h1><!-- "How to connect MAAS networks" -->
<p>You can easily manage the basic networking elements of MAAS, including subnets, fabrics, VLANs, spaces, IP ranges, machine interfaces, and proxies.</p>
<p>This article will help you learn:</p>
<ul style="margin-left:4px; list-style-type:disc;">
<li><a href="#heading--how-to-manage-MAAS-network-elements">How to manage MAAS network elements</a></li>
<li><a href="#heading--how-to-manage-machine-interfaces">How to manage machine interfaces</a></li>
<li><a href="#heading--how-to-manage-proxies">How to manage proxies</a></li>
<li><a href="#heading--how-to-set-up-ntp">How to set up Network Time Protocol (NTP)</a></li>
</ul>
<p>Feel free to review some of the <a href="about-tcp-ip-networks.html">theory</a> first.</p>
<p><a href="#heading--how-to-manage-MAAS-network-elements"><h2 id="heading--how-to-manage-MAAS-network-elements">How to manage MAAS network elements</h2></a></p>
<p>This section will show you:</p>
<ul style="margin-left:4px; list-style-type:disc;">
<li><a href="#heading--how-to-enable-network-discovery">How to enable network discovery</a></li>
<li><a href="#heading--how-to-toggle-subnet-management">How to toggle subnet management</a></li>
<li><a href="#heading--how-to-access-ui-main-networking-view">How to access the main networking view</a></li>
<li><a href="#heading--ui-how-to-display-the-subnet-window">How to display the subnet window</a></li>
<li><a href="#heading--ui-how-to-view-the-subnet-summary">How to view the subnet summary</a></li>
<li><a href="#heading--ui-how-to-view-utilisation">How to view utilisation</a></li>
<li><a href="#heading--how-to-manage-static-routes">How to manage static routes between subnets</a></li>
<li><a href="#heading--how-to-view-reserved-ranges">How to view reserved ranges</a></li>
<li><a href="#heading--ui-how-to-view-used-ip-addresses">How to view used IP addresses</a></li>
<li><a href="#heading--how-to-set-up-a-bridge-with-maas">How to set up a bridge with MAAS</a></li>
<li><a href="#heading--how-to-set-up-a-bridge-with-netplan">How to set up a bridge with netplan</a></li>
</ul>
<p><a href="#heading--how-to-enable-network-discovery"><h3 id="heading--how-to-enable-network-discovery">How to enable network discovery</h3></a></p>
<p>To enable network discovery:</p>
<ol>
<li>
<p>Select <em>Networking &gt; Network discovery</em> in the left navigation panel.</p>
</li>
<li>
<p>Select the <em>Configuration</em> tab at the top of the <em>Network discovery</em> panel.</p>
</li>
<li>
<p>In the <em>Network discovery</em> dropdown, select &ldquo;Enabled&rdquo;.</p>
</li>
<li>
<p>Select <em>Save</em> to register your changes.</p>
</li>
</ol>
<p>To enable network discovery:</p>
<ol>
<li>
<p>Click on &ldquo;Canonical MAAS&rdquo; at the top left of the screen.</p>
</li>
<li>
<p>Click on &ldquo;Configuration&rdquo;.</p>
</li>
<li>
<p>In the dropdown labeled &ldquo;Network discovery&rdquo;, choose &ldquo;Enabled&rdquo; or &ldquo;Disabled&rdquo;.</p>
</li>
</ol>
<p><a href="#heading--how-to-toggle-subnet-management"><h3 id="heading--how-to-toggle-subnet-management">How to toggle subnet management</h3></a></p>
<p>To toggle subnet management:</p>
<ol>
<li>
<p>Select <em>Subnets</em> from the left navigation panel.</p>
</li>
<li>
<p>Select the subnet you wish to change by clicking on its address.</p>
</li>
<li>
<p>Select <em>Edit</em> in the upper right of the <em>Subnet summary</em> panel.</p>
</li>
<li>
<p>Select <em>Managed allocation</em> to toggle between enabled and disabled.</p>
</li>
<li>
<p>Select <em>Save</em> to register your changes.</p>
</li>
</ol>
<p>You can (re)enable subnet management at any time by checking <em>Managed allocation</em>.</p>
<p><a href="#heading--how-to-access-ui-main-networking-view"><h3 id="heading--how-to-access-ui-main-networking-view">How to access the main networking view</h3></a></p>
<p>To access the main networking view, select <em>Networking &gt; Subnets</em>.</p>
<p>This main view can also be filtered through the use of the &lsquo;Filters&rsquo; drop-down.</p>
<p><a href="#heading--ui-how-to-display-the-subnet-window"><h3 id="heading--ui-how-to-display-the-subnet-window">How to display the subnet window</h3></a></p>
<p>Selecting a subnet will display its detail screen.</p>
<p><a href="#heading--ui-how-to-view-subnet-utilisation"><h3 id="heading--ui-how-to-view-subnet-utilisation">How to view subnet utilisation</h3></a></p>
<p>This section of the subnet page presents networking metrics.</p>
<p><a href="#heading--how-to-manage-static-routes"><h3 id="heading--how-to-manage-static-routes">How to manage static routes between subnets</h3></a></p>
<p>To create a static route:</p>
<ol>
<li>
<p>Select <em>Networking &gt; Subnets</em>.</p>
</li>
<li>
<p>Select the Subnet you want to change by clicking on its IP address.</p>
</li>
<li>
<p>In the <em>Subnet summary</em> pane, scroll down to <em>Add static route</em> and select it.</p>
</li>
<li>
<p>Enter a <em>Gateway IP</em> address.</p>
</li>
<li>
<p>Select a <em>Destination</em> subnet from the dropdown.</p>
</li>
<li>
<p>Enter a routing <em>Metric</em> value, if desired.</p>
</li>
<li>
<p>Select <em>Save</em> to register your changes.</p>
</li>
</ol>
<p><a href="#heading--how-to-view-reserved-ranges"><h3 id="heading--how-to-view-reserved-ranges">How to view reserved ranges</h3></a></p>
<p>The reserved ranges section of the subnet screen contains information on <a href="how-to-enable-dhcp.html#heading--how-to-manage-ip-ranges">defined IP ranges</a>.</p>
<p><a href="#heading--ui-how-to-view-used-ip-addresses"><h3 id="heading--ui-how-to-view-used-ip-addresses">How to view used IP addresses</h3></a></p>
<p>The &ldquo;Used IP addresses&rdquo; section displays hosts (including controllers) associated with the used addresses along with related bits of host information.</p>
<p><a href="#heading--how-to-set-up-a-bridge-with-maas"><h3 id="heading--how-to-set-up-a-bridge-with-maas">How to set up a bridge with MAAS</h3></a></p>
<p>To configure a bridge with the MAAS UI: </p>
<ol>
<li>
<p>Select <em>Machines</em>.</p>
</li>
<li>
<p>Select the machine you want to bridge. </p>
</li>
<li>
<p>Select <em>Network</em>. </p>
</li>
<li>
<p>Checkbox the network where you want to create the bridge.</p>
</li>
<li>
<p>Select <em>Create bridge</em>.</p>
</li>
<li>
<p>Fill in the bridge details in the form which appears.</p>
</li>
<li>
<p>Optionally include the bridge in the spanning tree protocol by selecting the slider under <em>Advanced options</em>.</p>
</li>
<li>
<p>Optionally set the <em>Forward delay</em> in milliseconds.</p>
</li>
<li>
<p>Select <em>Save interface</em> to register your changes.</p>
</li>
</ol>
<p>You can then deploy machines using this bridge.</p>
<p><strong>NOTE:</strong> 
You can create an &ldquo;Open switch&rdquo; bridge if desired, and MAAS will create the netplan model for you.</p>
<p><a href="#heading--how-to-set-up-a-bridge-with-netplan"><h3 id="heading--how-to-set-up-a-bridge-with-netplan">How to set up a bridge with netplan</h3></a></p>
<p>To use netplan to configure a bridge:</p>
<ol>
<li>
<p>Open your netplan configuration file.  This should be in <code>/etc/netplan</code>.  It could be called <code>50-cloud-init.yaml</code>, <code>netplan.yaml</code>, or something else.  </p>
</li>
<li>
<p>Modify the file to add a bridge, using the following example as a guide:</p>
</li>
</ol>
<pre><code class="language-nohighlight">network:
    bridges:
        br0:
            addresses:
            - 10.0.0.101/24
            gateway4: 10.0.0.1
            interfaces:
            - enp1s0
            mac address: 52:54:00:39:9d:f9
            mtu: 1500
            name servers:
                addresses:
                - 10.0.0.2
                search:
                - maas
            parameters:
                forward-delay: 15
                stp: false
    Ethernet's:
        enp1s0:
            match:
                mac address: 52:54:00:39:9d:f9
            mtu: 1500
            set-name: enp1s0
        enp2s0:
            match:
                mac address: 52:54:00:df:87:ac
            mtu: 1500
            set-name: enp2s0
        enp3s0:
            match:
                mac address: 52:54:00:a7:ac:46
            mtu: 1500
            set-name: enp3s0
    version: 2
</code></pre>
<ol>
<li>Apply the new configuration with <code>netplan apply</code>.</li>
</ol>
<p><a href="#heading--how-to-manage-machine-interfaces"><h2 id="heading--how-to-manage-machine-interfaces">How to manage machine interfaces</h2></a></p>
<p>This section will explain the following procedures related to machine interfaces:</p>
<ul style="margin-left:4px; list-style-type:disc;">
<li><a href="#heading--how-to-edit-interfaces&quot;">How to edit machine interfaces</a></li>
<li><a href="#heading--bond-interfaces">How to create a bond interface</a></li>
<li><a href="#heading--bridge-interfaces">How to create a bridge interface</a></li>
<li><a href="#heading--delete-an-interface">How to delete an interface</a></li>
<li><a href="#heading--assign-a-network-interface-to-a-fabric">How to assign a network interface to a fabric</a></li>
<li><a href="#heading--interface-identifiers">How to discover interface identifiers</a></li>
<li><a href="#heading--create-a-vlan-interface">How to create a VLAN interface</a></li>
<li><a href="#heading--delete-a-vlan-interface">How to delete a VLAN interface</a></li>
</ul>
<p><a href="#heading--how-to-edit-interfaces"><h3 id="heading--how-to-edit-interfaces">How to edit machine interfaces</h3></a></p>
<p>To edit a machine interface:</p>
<ol>
<li>
<p>Select <em>Machines</em>.</p>
</li>
<li>
<p>Select the machine in question by clicking on its name.</p>
</li>
<li>
<p>Select <em>Network</em>.</p>
</li>
<li>
<p>Checkbox the interface in question.</p>
</li>
<li>
<p>Click the <em>Actions</em> dropdown at the right end of row for that interface.</p>
</li>
<li>
<p>Select <em>Edit physical</em>.</p>
</li>
<li>
<p>Change any of the desired parameters in the form which appears.</p>
</li>
<li>
<p>Select an <em>IP mode</em>.</p>
</li>
<li>
<p>Select <em>Save interface</em> to register your changes.</p>
</li>
</ol>
<p>See <a href="maas-glossary.html#heading--ip-ranges">the glossary</a> for the definitions of reserved range types.</p>
<p><a href="#heading--bond-interfaces"><h3 id="heading--bond-interfaces">How to create a bond interface</h3></a></p>
<ol>
<li>
<p>Select more than one interface. </p>
</li>
<li>
<p>Select <em>Create bond</em>; the bond configuration pane will appear.</p>
</li>
<li>
<p>Rename the bond, if desired. </p>
</li>
<li>
<p>Select a bond mode:</p>
</li>
<li>
<p><strong>balance-rr</strong>: Transmit packets in sequential order from the first available follower through to the last. This mode provides load balancing and fault tolerance.</p>
</li>
<li>
<p><strong>active-backup</strong>: Only one follower in the bond is active. A different follower becomes active if, and only if, the active follower fails. The bond&rsquo;s MAC address is externally visible on only one port (network adaptor) to avoid confusing the switch.</p>
</li>
<li>
<p><strong>balance-xor</strong>: Transmit based on the selected transmit hash policy. The default policy is simple, which means that an XOR operation selects packages.  This XOR compares the source MAC address and the resultant XOR between the destination MAC address, the packet type identifier, and the modulo follower count.</p>
</li>
<li>
<p><strong>broadcast</strong>: Transmit everything on all follower interfaces. This mode provides fault tolerance.</p>
</li>
<li>
<p><strong>802.3ad</strong>: Creates aggregation groups that share the same speed and duplex settings. This mode utilises all followers in the active aggregation, following the IEEE 802.3ad specification.</p>
</li>
<li>
<p><strong>balance-tlb</strong>: Adaptive transmit load balancing, channel bonding that does not require any special switch support.</p>
</li>
<li>
<p><strong>balance-alb</strong>: Adaptive load balancing, includes balance-tlb plus receive load balancing (rlb) for IPV4 traffic. This mode does not require any special switch support.  ARP negotiation achieves load balancing in this case.</p>
</li>
<li>
<p>Assign a <em>MAC address</em> to the aggregate device.</p>
</li>
<li>
<p>Attach one or more <em>Tags</em>, if desired.</p>
</li>
<li>
<p>Select the <em>Primary</em> device.</p>
</li>
<li>
<p>Select <em>Save</em> to register your changes.</p>
</li>
</ol>
<p><strong>NOTE:</strong> 
The MAC address defaults to the MAC address of the primary interface.</p>
<p><a href="#heading--bridge-interfaces"><h3 id="heading--bridge-interfaces">How to create a bridge interface</h3></a></p>
<p>To create a bridge interface:</p>
<ol>
<li>
<p>Select <em>Machines</em>.</p>
</li>
<li>
<p>Select a machine.</p>
</li>
<li>
<p>Select <em>Network</em>.</p>
</li>
<li>
<p>Select an interface by choosing its checkbox.</p>
</li>
<li>
<p>Select <em>Create bridge</em>.</p>
</li>
<li>
<p>Optionally enter a unique <em>Bridge name</em>.</p>
</li>
<li>
<p>Choose a <em>Bridge type</em>.</p>
</li>
<li>
<p>Enter a valid <em>MAC address</em>.</p>
</li>
<li>
<p>Choose a <em>Fabric</em>.</p>
</li>
<li>
<p>Choose a <em>VLAN</em>.</p>
</li>
<li>
<p>Optionally choose a <em>Subnet</em>.</p>
</li>
<li>
<p>Optionally enter <em>Tags</em>.</p>
</li>
<li>
<p>Optionally turn on <em>STP</em>.</p>
</li>
<li>
<p>Register your new bridge by selecting <em>Save interface</em>.</p>
</li>
</ol>
<p><a href="#heading--delete-an-interface"><h3 id="heading--delete-an-interface">How to delete an interface</h3></a></p>
<p>An interface can only be deleted via the MAAS CLI.  Choose the &ldquo;CLI&rdquo; dropdown above to see how.</p>
<p>The &ldquo;delete&rdquo; command can be used to delete a bridge interface, a bond interface or a physical interface:</p>
<pre><code>maas $PROFILE interface delete $SYSTEM_ID $IFACE_ID
</code></pre>
<p>For example:</p>
<pre><code>maas admin interface delete 4efwb4 15
</code></pre>
<p>The following is output after the successful deletion of an interface:</p>
<pre><code>Success.
Machine-readable output follows:
</code></pre>
<p>Note that while the label is presented, there is no machine-readable output expected after the successful execution of the delete command.</p>
<p><a href="#heading--assign-a-network-interface-to-a-fabric"><h3 id="heading--assign-a-network-interface-to-a-fabric">How to assign a network interface to a fabric</h3></a></p>
<p>A network interface may be assigned to a fabric with the MAAS CLI only.  Choose the &ldquo;CLI&rdquo; dropdown above to see how.</p>
<p><a href="#heading--interface-identifiers"><h3 id="heading--interface-identifiers">How to discover interface identifiers</h3></a></p>
<p>Interface identifiers can only be discovered via the MAAS CLI.  Choose the &ldquo;CLI&rdquo; dropdown above to see how.</p>
<p><a href="#heading--create-a-vlan-interface"><h3 id="heading--create-a-vlan-interface">How to create a VLAN interface</h3></a></p>
<p>VLAN interfaces can only be created via the MAAS CLI. Select the &ldquo;CLI&rdquo; dropdown above to see how.</p>
<p><a href="#heading--delete-a-vlan-interface"><h3 id="heading--delete-a-vlan-interface">How to delete a VLAN interface</h3></a></p>
<p>VLAN interfaces can only be deleted via the MAAS CLI. Select the &ldquo;CLI&rdquo; dropdown above to see how.</p>
<p><a href="#heading--how-to-manage-proxies"><h2 id="heading--how-to-manage-proxies">How to manage proxies</h2></a></p>
<p>MAAS provides a way for its managed machines to use a proxy server when they need to access HTTP/HTTPS-based resources, such as the Ubuntu package archive.</p>
<p>There are three possible options:</p>
<ol>
<li>internal proxy (default)</li>
<li>external proxy</li>
<li>no proxy</li>
</ol>
<p>Configuring a proxy with MAAS consists of enabling/disabling one of the above three options and enabling/disabling proxying on a specific subnet. This article will help you learn:</p>
<ul style="margin-left:4px; list-style-type:disc;">
<li><a href="#heading--internal-proxy-maas-proxy">About the MAAS internal proxy</a></li>
<li><a href="#heading--configure-proxy">How to create an external proxy</a></li>
</ul>
<p><a href="#heading--configure-proxy"><h3 id="heading--configure-proxy">How to create an external proxy</h3></a></p>
<ol>
<li>
<p>In the web UI, visit the &lsquo;Settings&rsquo; page and select the &lsquo;Network services&rsquo; tab. </p>
</li>
<li>
<p>Modify the &lsquo;Proxy&rsquo; section at the top, as desired:</p>
</li>
<li>
<p>To enable the internal proxy, ensure that the checkbox adjacent to &lsquo;MAAS Built-in&rsquo; is selected. This internal proxy is the default configuration.</p>
</li>
<li>
<p>To enable an external proxy, activate the &lsquo;External&rsquo; checkbox and use the new field that is displayed to define the proxy&rsquo;s URL (and port if necessary).</p>
</li>
<li>
<p>An upstream cache peer can be defined by enabling the &lsquo;Peer&rsquo; checkbox and entering the external proxy URL into the field. With this enabled, machines will be configured to use the MAAS built-in proxy to download cached APT packages.</p>
</li>
<li>
<p>To prevent MAAS machines from using a proxy, enable the &lsquo;Don&rsquo;t use a proxy&rsquo; checkbox.</p>
</li>
</ol>
<p><strong>NOTE</strong> that the proxy service will still be running.</p>
<p><a href="#heading--how-to-set-up-ntp"><h2 id="heading--how-to-set-up-ntp">How to set up Network Time Protocol (NTP)</h2></a></p>
<p>MAAS provides managed NTP services (with <a href="https://chrony.tuxfamily.org/">Chrony</a><code>â†—</code>) for all region and rack controllers. This arrangement allows MAAS to both keep its controllers synchronised, and keep deployed machines synchronised as well. You can configure NTP on the &lsquo;Network services&rsquo; tab of the &lsquo;Settings&rsquo; page. </p>
<p>The region controller configures the NTP service to keep its time synchronised from one or more external sources. By default, the MAAS region controller uses <code>ntp.ubuntu.com</code>. Rack controllers also configure the NTP service, synchronising their time with the region controllers.  Rack controllers also configure DHCP with the correct NTP information, so that the DHCP servers can manage the NTP clients for the rack. Any machine on the network that obtains a DHCP lease from MAAS will benefit from NTP support.</p>
<p><a href="#heading--setting-ntp-server"><h2 id="heading--setting-ntp-server">Setting an external NTP server</h2></a></p>
<p>External sites, such as an existing NTP infrastructure, can be used directly as a time source for both rack controllers and machines.</p>
<p>You can specify an external site by choosing the NTP server(s) and selecting the &lsquo;External Only&rsquo; option. The region controller always uses an external site.</p>
<ol>
<li>
<p>On the &lsquo;Settings&rsquo; page, select the &lsquo;Network services&rsquo; tab and scroll down to the &lsquo;NTP&rsquo; section.</p>
</li>
<li>
<p>Enter the address of the desired NTP server.</p>
</li>
</ol>
    </div>
  </body>
</html>