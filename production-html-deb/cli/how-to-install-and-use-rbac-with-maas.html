<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="css/stylesheet.css" />
    <style>
      #selector a:link{color:black;}
      #selector a:visited{color:black;}
      #selector a:active{color:black;}
      #selector a:hover{color:blue;}
      #sidebar a:link{color:black;}
      #sidebar a:visited{color:black;}
      #sidebar a:active{color:black;}
      #sidebar a:hover{color:blue;}
      ul {margin-left:0;list-style-type:none;}
      li {margin: 4px 0;}
    </style>
  </head>
  <body>
    <div id="selector" style="top:0; position:fixed; float:right; background-color:#d9d9d9; width:100%;border-bottom:1px solid black;">
      &nbsp;&nbsp;<strong>Offline docs</strong>
      <a href="https://maas.io/docs">(switch to live docs)</a>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	<a href="../ui/how-to-install-and-use-rbac-with-maas.html">
	  UI-only
	</a>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <span style="background-color:white;border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; border-bottom:5px solid white;">
	  &nbsp;CLI-only&nbsp;
      </span>
    </div>
    <div id="sidebar" style="float:left; width:25%;margin-top:40px; margin-left:20px">
      <strong>
	<a href="maas-documentation-25.html">
	  Home
	</a>
      </strong>
      <ul>
	<li>
	  <a href="what-is-new-with-maas.html">
	    Release notes
	  </a>
	</li>
	<li>
	  <a href="maas-installation-requirements.html">
	    Installation requirements
	  </a>
	</li>
	<li>
	  <a href="maas-glossary.html">
	    Glossary
	  </a>
	</li>
      </ul>
      <strong>
	<a href="basic-tutorials.html">
	  Basic tutorials
	</a>
      </strong>
      <ul>
	<li>
	  <a href="maas-bootstrap-tutorial.html">
	    MAAS bootstrap tutorial
	  </a>
	</li>
	<li>
	  <a href="try-out-the-maas-cli.html">
	    Try out the MAAS CLI
	  </a>
	</li>
	<li>
	  <a href="custom-image-tutorial.html">
	    Custom image tutorial
	  </a>
	</li>
	<li>
	  <a href="using-jq-with-the-maas-cli.html">
	    Using jq with the MAAS CLI
	  </a>
	</li>
      </ul>
      <strong>
	<a href="how-to-get-started-with-maas.html">
	  How to get started with MAAS
	</a>
      </strong>
      <ul>
	<li>
	  <a href="how-to-spin-up-maas-with-ansible.html">
	    Spin up MAAS with Ansible
	  </a>
	</li>
	<li>
	  <a href="how-to-install-maas.html">
	    Install MAAS
	  </a>
	</li>
	<li>
	  <a href="how-to-upgrade-maas.html">
	    Upgrade MAAS
	  </a>
	</li>
	<li>
	  <a href="how-to-change-maas-settings.html">
	    Change MAAS settings
	  </a>
	</li>
	<li>
	  <a href="how-to-get-help.html">
	    Ask for help
	  </a>
	</li>
	<li>
	  <a href="how-to-request-a-feature.html">
	    Request a feature
	  </a>
	</li>
	<li>
	  <a href="how-to-report-a-bug.html">
	    Report a bug
	  </a>
	</li>
	<li>
	  <a href="how-to-troubleshoot-maas.html">
	    Troubleshooting
	  </a>
	</li>
      </ul>
      <strong>
	<a href="how-to-set-up-networks.html">
	  How to set up networks
	</a>
      </strong>
      <ul>
	<li>
	  <a href="how-to-connect-maas-networks.html">
	    Connect MAAS networks
	  </a>
	</li>
	<li>
	  <a href="how-to-enable-dhcp.html">
	    Enable DHCP
	  </a>
	</li>
	<li>
	  <a href="how-to-manage-availability-zones.html">
	    Manage zones (AZs)
	  </a>
	</li>
      </ul>
      <strong>
	<a href="how-to-acquire-images.html">
	  How to acquire images
	</a>
      </strong>
      <ul>
	<li>
	  <a href="how-to-use-standard-images.html">
	    Use standard images
	  </a>
	</li>
	<li>
	  <a href="how-to-mirror-images-locally.html">
	    Mirror images locally
	  </a>
	</li>
	<li>
	  <a href="how-to-build-custom-images.html">
	    Build custom images
	  </a>
	</li>
	<li>
	  <a href="how-to-employ-vmware-images.html">
	    Employ VMWare images
	  </a>
	</li>
      </ul>
      <strong>
	<a href="how-to-tune-controllers.html">
	  How to tune controllers
	</a>
      </strong>
      <ul>
	<li>
	  <a href="how-to-adjust-your-controllers.html">
	    Adjust your controllers
	  </a>
	</li>
	<li>
	  <a href="how-to-enable-high-availability.html">
	    Enable HA
	  </a>
	</li>
      </ul>
      <strong>
	<a href="how-to-deploy-physical-machines.html">
	  How to deploy physical machines
	</a>
      </strong>
      <ul>
	<li>
	  <a href="how-to-make-machines-available.html">
	    Make machines available
	  </a>
	</li>
	<li>
	  <a href="how-to-customise-machines.html">
	    Customise machines
	  </a>
	</li>
	<li>
	  <a href="how-to-put-machines-to-work.html">
	    Put machines to work
	  </a>
	</li>
      </ul>
      <strong>
	<a href="how-to-deploy-virtual-machines.html">
	  How to deploy virtual machines
	</a>
      </strong>
      <ul>
	<li>
	  <a href="how-to-set-up-lxd.html">
	    Set up LXD
	  </a>
	</li>
	<li>
	  <a href="how-to-create-vm-hosts.html">
	    Create VM hosts
	  </a>
	</li>
	<li>
	  <a href="how-to-create-and-manage-vms.html">
	    Create and manage VMs
	  </a>
	</li>
      </ul>
      <strong>
	<a href="how-to-label-and-find-machines.html">
	  How to label and find machines
	</a>
      </strong>
      <ul>
	<li>
	  <a href="how-to-tag-machines.html">
	    Tag machines
	  </a>
	</li>
	<li>
	  <a href="how-to-annotate-machines.html">
	    Annotate machines
	  </a>
	</li>
	<li>
	  <a href="how-to-use-machine-tags.html">
	    Use machine tags
	  </a>
	</li>
	<li>
	  <a href="how-to-use-controller-tags.html">
	    Use controller tags
	  </a>
	</li>
	<li>
	  <a href="how-to-use-storage-tags.html">
	    Use storage tags
	  </a>
	</li>
	<li>
	  <a href="how-to-use-network-tags.html">
	    Use network tags
	  </a>
	</li>
	<li>
	  <a href="how-to-find-machines.html">
	    Find machines
	  </a>
	</li>
      </ul>
      <strong>
	How to diagnose issues
      </strong>
      <ul>
	<li>
	  <a href="how-to-work-with-log-files.html">
	    Work with log files
	  </a>
	</li>
	<li>
	  <a href="how-to-work-with-audit-event-logs.html">
	    Work with audit event logs
	  </a>
	</li>
      </ul>
      <strong>
	How to work securely
      </strong>
      <ul>
	<li>
	  <a href="how-to-improve-maas-security.html">
	    Improve MAAS security
	  </a>
	</li>
	<li>
	  <a href="how-to-enable-maas-native-tls.html">
	    Enable MAAS native TLS
	  </a>
	</li>
	<li>
	  <a href="how-to-set-up-an-air-gapped-maas.html">
	    Set up an air-gapped MAAS
	  </a>
	</li>
	<li>
	  <a href="how-to-manage-user-accounts.html">
	    Manage user accounts
	  </a>
	</li>
      </ul>
      <strong>
	How to operate reliably
      </strong>
      <ul>
	<li>
	  <a href="how-to-keep-maas-backed-up.html">
	    Keep MAAS backed up
	  </a>
	</li>
	<li>
	  <a href="how-to-observe-a-live-maas.html">
	    Observe a live MAAS
	  </a>
	</li>
      </ul>
      <strong>
	API reference
      </strong>
      <ul>
	<li>
	  <a href="api-authentication-reference.html">
	    API authentication
	  </a>
	</li>
	<li>
	  <a href="python-api-client-reference.html">
	    API client
	  </a>
	</li>
	<li>
	  <a href="api.html">
	    API documentation
	  </a>
	</li>
      </ul>
      <strong>
	<a href="maas-technical-reference.html">
	  MAAS technical reference
	</a>
      </strong>
      <ul>
	<li>
	  <a href="commissioning-scripts-reference.html">
	    Commissioning scripts
	  </a>
	</li>
	<li>
	  <a href="hardware-test-scripts-reference.html">
	    Hardware test scripts
	  </a>
	</li>
	<li>
	  <a href="audit-event-log-reference.html">
	    Audit event logs
	  </a>
	</li>
	<li>
	  <a href="maas-performance.html">
	    MAAS performance
	  </a>
	</li>
	<li>
	  <a href="power-management-reference.html">
	    Power management
	  </a>
	</li>
	<li>
	  <a href="storage-layouts-reference.html">
	    Storage layouts
	  </a>
	</li>
	<li>
	  <a href="maas-terraform-provider-reference.html">
	    Terraform provider
	  </a>
	</li>
      </ul>
    </div>
    <div class="container" style="float:right; width:65%; margin-top:40px; margin-right:30px">
  <h1>How to install and use RBAC with MAAS</h1><!-- "How to install and use RBAC with MAAS" -->

<p>Prologue text that explains what this document is about.</p>
<p><a href="#heading--how-to-set-up-id-mgmt-for-rbac"><h2 id="heading--how-to-set-up-id-mgmt-for-rbac">How to set up identity management for RBAC </h2></a></p>
<p>As a MAAS RBAC administrator, you want to properly set up the environment for Candid and RBAC to be used. As an RBAC administrator, you need step-by-step procedures that guide you through pre-installation configuration.</p>
<p><a href="#heading--how-to-set-up-n-install-id-mgmt"><h3 id="heading--how-to-set-up-n-install-id-mgmt">How to set up and install identity management</h3></a></p>
<p><a href="#heading--how-to-install-n-enable-candid"><h3 id="heading--how-to-install-n-enable-candid">How to install and enable Candid</h3></a></p>
<p>A user has detailed instructions for installing and enabling Candid. Provide detailed instructions about Candid installation.</p>
<p><a href="#heading--how-to-configure-n-load-candid"><h3 id="heading--how-to-configure-n-load-candid">How to configure and load Candid</h3></a></p>
<p>A user has detailed instructions for configuring and loading Candid. Provide detailed instructions for configuring Candid via /var/snap/candid/current/config.yaml, starting Candid, editing /root/admin.keys to have the correct URL for Candid, and creating the necessary credentials, including a self-signed certificate for Candid.</p>
<p><a href="#heading--how-to-verify-candid-operation"><h3 id="heading--how-to-verify-candid-operation">How to verify Candid operation</h3></a></p>
<p>A user has detailed procedures for verifying that a compatible authentication system is installed and working. Provide detailed instructions about which authentication systems are compatible with RBAC, how they must be configured, and how to verify that they are properly configured.  </p>
<p><a href="#heading--how-to-ensure-proper-certificates"><h3 id="heading--how-to-ensure-proper-certificates">How to ensure proper certificates</h3></a></p>
<p>A user has detailed instructions for ensuring that valid certificates can be generated and used as needed for Candid to communicate over HTTPS. Provide detailed instructions regarding the CA and certificates needed, as well as instructions for verifying that they are properly configured.</p>
<p><a href="#heading--how-to-install-n-configure-rbac"><h2 id="heading--how-to-install-n-configure-rbac">How to install and configure RBAC</h2></a></p>
<p>As a MAAS RBAC administrator, you want to properly install and configure RBAC and Candid. As an RBAC administrator, you need step-by-step procedures that guide you through the process of installing RBAC and Candid.</p>
<p><a href="#heading--how-to-install-rbac"><h3 id="heading--how-to-install-rbac">How to install RBAC</h3></a></p>
<p>Provide detailed instructions for obtaining PPA credentials, including necessary contact information and/or links.</p>
<p><a href="#heading--how-to-set-up-rbac"><h3 id="heading--how-to-set-up-rbac">How to set up RBAC</h3></a></p>
<p>Provide indirect instructions on how to login to Launchpad, visit your private PPA, set the necessary credentials, add your private PPA, and install the RBAC package.</p>
<p><a href="#heading--how-to-verify-rbac-setup"><h3 id="heading--how-to-verify-rbac-setup">How to log into RBAC and verify RBAC setup</h3></a></p>
<p>Provide detailed instructions about how to pass the Candid cert to RBAC; define RBAC cert, public key, and CA via SSL; create the appropriate credentials; configure RBAC to use these credentials; verify correct operation of the service-URL; and create an RBAC administrative user.</p>
<p><a href="#heading--how-to-connect-maas-n-rbac"><h2 id="heading--how-to-connect-maas-n-rbac">How to connect MAAS and RBAC</h2></a></p>
<p>As a MAAS RBAC administrator, you want to properly connect MAAS to RBAC and establish baseline test users. As an RBAC administrator, you need step-by-step procedures that guide you through the process of making MAAS talk to RBAC successfully.</p>
<p><a href="#heading--how-to-configure-maas-with-rbac"><h3 id="heading--how-to-configure-maas-with-rbac">How to configure MAAS with RBAC</h3></a></p>
<p>Provide detailed instructions about how to configure MAAS to use RBAC, including defining the service name and URL of the RBAC service, along with a login procedure that verifies that the RBAC-maas connection is working correctly.</p>
<p><a href="#heading--how-to-use-resource-pools"><h3 id="heading--how-to-use-resource-pools">How to use resource pools</h3></a></p>
<p>Provide detailed instructions for creating new resource pools, or provide a procedure for using existing resource pools.</p>
<p><a href="#heading--how-to-create-test-users"><h3 id="heading--how-to-create-test-users">How to create test users</h3></a></p>
<p>Provide detailed instructions for creating test users, or provide a procedure for using existing test users already established.</p>
<p><a href="#heading--how-to-assign-test-users"><h3 id="heading--how-to-assign-test-users">How to assign test users</h3></a></p>
<p>Provide instructions on how to associate test users with resource pools.</p>
<p><a href="#heading--how-to-verify-rbac-with-maas"><h3 id="heading--how-to-verify-rbac-with-maas">How to verify RBAC with MAAS</h3></a></p>
<p>Provide detailed instructions for using the RBAC test cases created thus far to verify that RBAC is working correctly with MAAS.</p>
<p><a href="#heading--how-to-operate-rbac"><h2 id="heading--how-to-operate-rbac">How to operate RBAC</h2></a></p>
<p>As a MAAS RBAC administrator, you want to understand how to operate and maintain RBAC. As an RBAC administrator, you need step-by-step procedures that guide you through the various day-to-day aspects of RBAC components, services, groups, roles, and permissions.</p>
<p><a href="#heading--how-to-configure-services"><h3 id="heading--how-to-configure-services">How to configure services</h3></a></p>
<p>Provide detailed instructions about MAAS services, as exposed in RBAC, and how they can be manipulated and configured</p>
<p><a href="#heading--how-to-configure-scopes"><h3 id="heading--how-to-configure-scopes">How to configure scopes</h3></a></p>
<p>Provide detailed instructions about scopes, and how they should be configured and applied</p>
<p><a href="#heading--how-to-assign-roles"><h3 id="heading--how-to-assign-roles">How to assign roles</h3></a></p>
<p>Provide detailed instructions about the way RBAC tabulates roles, services, etc, including the way the hierarchy flows from left to right, how to change views, and how to manipulate items in those views</p>
<p><a href="#heading--how-to-set-perms"><h3 id="heading--how-to-properly-set-perms">How to set permissions</h3></a></p>
<p>Provide detailed instructions about the way RBAC tabulates roles, services, etc, including the way the hierarchy flows from left to right, how to change views, and how to manipulate items in those views</p>
<p><a href="#heading--how-to-navigate-rbac"><h3 id="heading--how-to-navigate-rbac">How to navigate RBAC</h3></a></p>
<p>Provide detailed instructions about the way RBAC tabulates roles, services, etc, including the way the hierarchy flows from left to right, how to change views, and how to manipulate items in those views</p>
<p><a href="#heading--how-to-modify-rbac-users"><h3 id="heading--how-to-modify-rbac-users">How to modify RBAC users</h3></a></p>
<p>Provide detailed procedures for managing the relationships between roles, permissions, users, groups, and resource pools, including how to add, edit, remove, and reassign them; explain how changes are “buffered”, ie, not implemented until a separate choice is made</p>
<p><a href="#heading--how-to-deal-with-non-machine-related-attributes"><h3 id="heading--how-to-deal-with-non-machine-related-attributes">How to deal with non-machine-related attributes</h3></a></p>
<p>Provide detailed instructions for address the various non-machine-related components of MAAS that are exposed in RBAC</p>
<p><a href="#heading--how-to-audit-user-actions"><h2 id="heading--how-to-audit-user-actions">How to audit user actions</h2></a></p>
<p>As a MAAS RBAC administrator, operator, or auditor, you want to understand how to use RBAC logging to review user actions As an RBAC administrator, operator, or auditor, you need step-by-step procedures that guide you through the process of reviewing, analyzing, and correlating log entries</p>
<p><a href="#heading--how-to-access-rbac-logs"><h3 id="heading--how-to-access-rbac-logs">How to access RBAC logs </h3></a></p>
<p>Provide detailed instructions about RBAC logs, how to find them, how to access them, and how to export them</p>
<p><a href="#heading--how-to-post-process-rbac-logs"><h3 id="heading--how-to-post-process-rbac-logs">How to post-process RBAC logs</h3></a></p>
<p>Provide detailed instructions for RBAC logs use built-in filter capability. Provide suggestions and examples for analyz RBAC logs us command line tools on exported log files</p>
<p><a href="#heading--how-to-correlate-actions-events-n-users"><h3 id="heading--how-to-correlate-actions-events-n-users">How to correlate actions, events, and users</h3></a></p>
<p>Provide detailed procedures for correlating user actions and events with the correct users, roles, and permissions</p>
    </div>
  </body>
</html>