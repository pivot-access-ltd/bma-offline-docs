<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="css/stylesheet.css" />
    <style>
      #selector a:link{color:black;}
      #selector a:visited{color:black;}
      #selector a:active{color:black;}
      #selector a:hover{color:blue;}
      #sidebar a:link{color:black;}
      #sidebar a:visited{color:black;}
      #sidebar a:active{color:black;}
      #sidebar a:hover{color:blue;}
      ul {margin-left:0;margin-top:0;margin-bottom:0;list-style-type:none;padding-left:20px;}
      li {margin: 4px 0;}
      details {margin-top:0;margin-bottom:0;}
      details > summary {
	  padding: 0px;
	  margin-top: 0px;
	  margin-bottom: 0px;
	  width: 200px;
	  background-color: #ffffff;
	  border: none;
	  cursor: pointer;
    	  list-style-type: "< ";
	  direction: rtl;
      }
      details[open] > summary {
	  list-style-type: "v ";
      }
    </style>
  </head>
  <body>
    <div id="selector" style="top:0; position:fixed; float:right; background-color:#d9d9d9; width:100%;border-bottom:1px solid black;">
      &nbsp;&nbsp;
      <strong>Offline docs
      </strong>
      <a href="https://maas.io/docs">(switch to live docs)
      </a>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <a href="../ui/how-to-annotate-machines.html">
          UI-only
        </a>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <span style="background-color:white;border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; border-bottom:5px solid white;">
          &nbsp;CLI-only&nbsp;
      </span>
    </div>
    <div id="sidebar" style="float:left; width:25%;margin-top:40px; margin-left:20px">
      <ul>
	<li>
          <a href="maas-documentation.html"><b>MAAS Documentation</b></a>
	</li>
	<hr style="margin-top:15px;">
	<li>
          <details>
            <summary><a href="tutorials.html">Tutorials</a></summary>
            <ul>
              <li>
		<details>
                  <summary>Try out MAAS</summary>
		  <ul>
		    <li>
		      <a href="bootstrap-maas.html">Bootstrap MAAS</a>
		    </li>
		    <li>
		      <a href="get-to-know-your-machines.html">Get to know your machines</a>
		    </li>
		  </ul>
		</details>
              </li>
	      <li>
		<a href="try-out-the-maas-cli.html">Try out the MAAS CLI</a>
	      </li>
	      <li>
		<a href="create-custom-images.html">Create custom images</a>
	      </li>
	      <li>
		<a href="get-fancy-cli-output.html">Get fancy CLI output</a>
	      </li>
              <li>
		<details>
                  <summary>Primer tutorials</summary>
		  <ul>
		    <li>
		      <a href="primer-tutorial-the-osi-model.html">OSI model tutorial</a>
		    </li>
		  </ul>
		</details>
              </li>
            </ul>
          </details>
	</li>
	<hr style="margin-top:15px;">
	<li>
          <details>
            <summary><a href="how-to-guides.html">How-to guides</a></summary>
            <ul>
              <li>
		<details>
                  <summary><a href="how-to-get-started-with-maas.html">Get started with MAAS</a></summary>
		  <ul>
                    <li>
                      <a href="how-to-do-a-fresh-install-of-maas.html">Do a fresh install of MAAS</a>
		    </li>
		    <li>
                      <a href="how-to-upgrade-maas.html">Upgrade MAAS</a>
		    </li>
		    <li>
                      <a href="how-to-spin-up-maas-with-ansible.html">Spin up MAAS with Ansible</a>
		    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
                  <summary><a href="how-to-manage-networks.html">Manage networks</a></summary>
		  <ul>
                    <li>
                      <a href="how-to-connect-maas-networks.html">Connect MAAS networks</a>
                    </li>
                    <li>
                      <a href="how-to-enable-dhcp.html">Enable DHCP</a>
                    </li>
                    <li>
                      <a href="how-to-use-availability-zones.html">Use availability zones</a>
                    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
                  <summary><a href="how-to-use-images.html">Use images</a></summary>
		  <ul>
                    <li>
                      <a href="how-to-use-standard-images.html">Use standard images</a>
                    </li>
                    <li>
                      <a href="how-to-mirror-images-locally.html">Mirror images locally</a>
                    </li>
                    <li>
                      <a href="how-to-customise-images.html">Customise images</a>
                    </li>
                    <li>
                      <a href="how-to-employ-vmware-images.html">Employ VMware images</a>
                    </li>
                    <li>
                      <a href="how-to-deploy-a-real-time-kernel.html">Deploy a RT kernel</a>
                    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
                  <summary><a href="how-to-manage-controllers.html">Manage controllers</a></summary>
		  <ul>
		    <li>
		      <a href="how-to-configure-controllers.html">Configure controllers</a>
		    </li>
		    <li>
		      <a href="how-to-enable-high-availability.html">Enable high availability</a>
		    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
                  <summary><a href="how-to-manage-machines.html">Manage machines</a></summary>
		  <ul>
		    <li>
		      <a href="how-to-make-machines-available.html">Make machines available</a>
		    </li>
		    <li>
		      <a href="how-to-customise-machines.html">Customise machines</a>
		    </li>
		    <li>
		      <a href="how-to-put-machines-to-work.html">Put machines to work</a>
		    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
                  <summary><a href="how-to-use-virtual-machines.html">Use virtual machines</a></summary>
		  <ul>
		    <li>
		      <a href="how-to-set-up-lxd.html">Set up LXD</a>
		    </li>
		    <li>
		      <a href="how-to-manage-vm-hosts.html">Manage VM hosts</a>
		    </li>
		    <li>
		      <a href="how-to-manage-virtual-machines.html">Manage virtual machines</a>
		    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
                  <summary><a href="how-to-label-devices.html">Label devices</a></summary>
		  <ul>
		    <li>
		      <a href="how-to-tag-machines.html">Tag machines</a>
		    </li>
		    <li>
		      <a href="how-to-annotate-machines.html">Annotate machines</a>
		    </li>
		    <li>
		      <a href="how-to-use-machine-tags.html">Use machine tags</a>
		    </li>
		    <li>
		      <a href="how-to-use-controller-tags.html">Use controller tags</a>
		    </li>
		    <li>
		      <a href="how-to-use-storage-tags.html">Use storage tags</a>
		    </li>
		    <li>
		      <a href="how-to-use-network-tags.html">Use network tags</a>
		    </li>
		  </ul>
		</details>
              </li>
	      <li>
		<details>
                  <summary><a href="how-to-secure-maas.html">Secure MAAS</a></summary>
		  <ul>
		    <li>
		      <a href=.html"how-to-improve-maas-security.html">Improve MAAS security</a>
		    </li>
		    <li>
		      <a href="how-to-manage-user-accounts.html">Manage user accounts</a>
		    </li>
		    <li>
		      <a href="how-to-enable-maas-native-tls.html">Enable MAAS native TLS</a>
		    </li>
		    <li>
		      <a href="how-to-use-hashicorp-vault-with-maas.html">Use Vault with MAAS</a>
		    </li>
		    <li>
		      <a href="how-to-set-up-an-air-gapped-maas.html">Set up an air-gapped MAAS</a>
		    </li>
		  </ul>
		</details>
              </li>
	      <li>
		<details>
                  <summary><a href="how-to-operate-maas.html">Operate MAAS</a></summary>
		  <ul>
		    <li>
		      <a href=.html"how-to-find-machines.html">Find machines</a>
		    </li>
		    <li>
		      <a href="how-to-back-up-maas.html">Back up MAAS</a>
		    </li>
		    <li>
		      <a href="how-to-monitor-maas.html">Monitor MAAS</a>
		    </li>
		    <li>
		      <a href="how-to-audit-maas.html">Audit MAAS</a>
		    </li>
		    <li>
		      <a href="how-to-troubleshoot-maas">Troubleshoot MAAS</a>
		    </li>
		  </ul>
		</details>
              </li>
	      <li>
		<details>
                  <summary><a href="how-to-give-and-receive-help.html">Give and receive help</a></summary>
		  <ul>
		    <li>
		      <a href=.html"how-to-use-the-maas-discourse-forum.html">Use our discourse forum</a>
		    </li>
		    <li>
		      <a href="https://ubuntu.com/pro">Get support</a>
		    </li>
		    <li>
		      <a href="how-to-request-new-features.html">Request new features</a>
		    </li>
		    <li>
		      <a href="how-to-review-and-report-bugs.html">Review and report bugs</a>
		    </li>
		    <li>
		      <a href="how-to-contribute-documentation.html">Contribute documentation</a>
		    </li>
		  </ul>
		</details>
              </li>
            </ul>
          </details>
	</li>
	<hr style="margin-top:15px;">
	<li>
          <details>
            <summary><a href="reference.html">Reference</a></summary>
            <ul>
	      <details>
		<summary><a href="maas-release-notes.html">Release notes</a></summary>
		<ul>
		  <li>
		    <a href="what-is-new-with-maas-3-4.html">MAAS 3.4 release notes</a>
              	  </li>
		  <li>
              	    <a href="what-is-new-with-maas-3-3.html">MAAS 3.3 release notes</a>
              	  </li>
		  <li>
              	    <a href="what-is-new-with-maas-3-2.html">MAAS 3.2 release notes</a>
              	  </li>
		  <li>
              	    <a href="what-is-new-with-maas-3-1.html">MAAS 3.1 release notes</a>
              	  </li>
		  <li>
              	    <a href="what-is-new-with-maas-3-0.html">MAAS 3.0 release notes</a>
              	  </li>
		  <li>
              	    <a href="what-is-new-with-maas-2-9.html">MAAS 2.9 release notes</a>
              	  </li>
		  <li>
              	    <a href="what-is-new-with-maas-2-8.html">MAAS 2.8 release notes</a>
              	  </li>
		  <li>
              	    <a href="what-is-new-with-maas-2-7.html">MAAS 2.7 release notes</a>
              	  </li>
		</ul>
	      </details>
              <li>
		<details>
                  <summary><a href="general-reference.html">General</a></summary>
		  <ul>
		    <li>
		      <a href="installation-requirements.html">Installation requirements</a>
		    </li>
		    <li>
		      <a href="maas-settings-reference.html">MAAS settings</a>
		    </li>
		    <li>
		      <a href="https://launchpad.net/maas">Source code</a>
		    </li>
		    <li>
		      <a href="maas-documentation-style-guide.html">Doc style guide</a>
		    </li>
		    <li>
		      <a href="maas-glossary.html">Glossary</a>
		    </li>
		    <li>
		      <a href="https://ubuntu.com/community/code-of-conduct">Code of conduct</a>
		    </li>
		  </ul>
		</details>
	      </li>
              <li>
		<details>
		  <summary><a href="api.html">API</a></summary>
		  <ul>
		    <li>
                      <a href="api-authentication-reference.html">API authentication</a>
                    </li>
		    <li>
                      <a href="python-api-client-reference.html">Python API client</a>
                    </li>
		    <li>
                      <a href="/docs/api">API documentation</a>
                    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
		  <summary><a href="scripts-reference.html">Scripts</a></summary>
		  <ul>
		    <li>
                      <a href="commissioning-scripts-reference.html">Commissioning scripts</a>
                    </li>
		    <li>
                      <a href="hardware-test-scripts-reference.html">Hardware test scripts</a>
                    </li>
		    <li>
                      <a href="maas-terraform-reference.html">Terraform</a>
                    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
		  <summary><a href="log-reference.html">Logging</a></summary>
		  <ul>
		    <li>
                      <a href="event-logs-reference.html">Event logs</a>
                    </li>
		    <li>
                      <a href="audit-event-logs-reference.html">Audit event logs</a>
                    </li>
		    <li>
                      <a href="commissioning-logs-reference.html">Commissioning logs</a>
                    </li>
		    <li>
                      <a href="testing-logs-reference.html">Testing logs</a>
                    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
		  <summary><a href="machine-parameters-reference.html">machine-parameters</a></summary>
		  <ul>
		    <li>
                      <a href=.html"power-drivers-reference.html">Power drivers</a>
                    </li>
		    <li>
                      <a href="storage-layouts-reference.html">Storage layouts</a>
                    </li>
		    <li>
                      <a href="device-labelling-reference.html">Device labelling</a>
                    </li>
		  </ul>
		</details>
              </li>
	    </ul>
	  </details>
	</li>
	<hr style="margin-top:15px;">
	<li>
	  <details>
	    <summary><a href="explanation.html">Explanation</a></summary>
	    <ul>
	      <li>
		<a href="about-maas.html">About MAAS</a>
	      </li>
	      <li>
		<details>
		  <summary>Networking</summary>
		  <ul>
		    <li>
		      <a href="about-maas-networks.html">MAAS networks</a>
		    </li>
		    <li>
		      <a href="about-tcp-ip-networks.html">TCP/IP primer</a>
		    </li>
		    <li>
		      <a href="about-dhcp.html">DHCP primer</a>
		    </li>
		    <li>
		      <a href="about-cloud-networking.html">Cloud networking primer</a>
		    </li>
		  </ul>
		</details>
	      </li>
	      <li>
		<a href="about-images.html">Images</a>
              </li>
	      <li>
		<details>
		  <summary>Controllers</summary>
		  <ul>
		    <li>
		      <a href="about-region-and-rack-controllers.html">Region and rack controllers</a>
		    </li>
		    <li>
		      <a href="about-high-availability.html">High availability</a>
		    </li>
		  </ul>
		</details>
	      </li>
	      <li>
		<details>
		  <summary>Machines and devices</summary>
		  <ul>
		    <li>
		      <a href="about-machines.html">Machines</a>
		    </li>
		    <li>
		      <a href="about-virtual-machines.html">Virtual machines</a>
		    </li>
		    <li>
		      <a href="device-labels.html">Device labels</a>
		    </li>
		  </ul>
		</details>
	      </li>
	      <li>
		<details>
		  <summary>Events and logging</summary>
		  <ul>
		    <li>
		      <a href="about-maas-events.html">MAAS events</a>
		    </li>
		    <li>
		      <a href="about-audit-events.html">Audit events</a>
		    </li>
		    <li>
		      <a href="about-log-files.html">MAAS logging</a>
		    </li>
		    <li>
		      <a href="about-maas-security.html">MAAS security</a>
		    </li>
		    <li>
		      <a href="about-maas-performance.html">MAAS performance</a>
		    </li>
		    <li>
		      <a href="about-ansible.html">Ansible</a>
		    </li>
		  </ul>
		</details>
	      </li>
	    </ul>
	  </details>
	</li>
      </ul>
    </div>
    <div class="container" style="float:right; width:65%; margin-top:40px; margin-right:30px">
      <h1>How to annotate machines</h1><!-- "How to annotate machines" -->
<p>Annotations are descriptive, searchable phrases that apply only to machines.  There are two types of annotations: notes (always present in any machine state), and dynamic annotations (only present in allocated or deployed states).  Annotations help you identify, characterise, and inform others about your machines.</p>
<p><strong>NOTE:</strong> 
Dynamic annotations are not available in MAAS version 2.9.</p>
<p><a href="#heading--How-to-use-notes"><h2 id="heading--How-to-use-notes">How to use notes</h2></a></p>
<p>Notes persist throughout the life-cycle of a machine &ndash; or until you change them.</p>
<p><a href="#heading--How-to-work-with-notes-in-the-MAAS-UI"><h3 id="heading--How-to-work-with-notes-in-the-MAAS-UI">How to work with notes in the MAAS UI</h3></a></p>
<p>To work with notes for a given machine, using the MAAS UI:201</p>
<ol>
<li>
<p>Select <em>Machines &gt; Machine name &gt; Configuration &gt; Edit</em>.</p>
</li>
<li>
<p>Existing notes are displayed in the <em>Note</em> block.</p>
</li>
<li>
<p>Add notes to <em>Note</em>.</p>
</li>
<li>
<p>Alternatively, edit notes by changing the text in the <em>Note</em> block.</p>
</li>
<li>
<p>Delete any notes no longer needed by removing them from the <em>Note</em> block.</p>
</li>
<li>
<p>Be sure to <em>Save changes</em> to register your updates.</p>
</li>
</ol>
<p><a href="#heading--How-to-work-with-notes-in-the-MAAS-CLI"><h3 id="heading--How-to-work-with-notes-in-the-MAAS-CLI">How to work with notes in the MAAS CLI</h3></a></p>
<p>It&rsquo;s also possible to manage notes in the MAAS CLI.</p>
<p><a href="#heading--identify-your-machines"><h4 id="heading--identify-your-machines">How to identify your machines</h4></a></p>
<p>The MAAS CLI refers to machines by their system ID, which can be obtained in this way:</p>
<pre><code class="language-bash">maas $PROFILE machines read \
| jq -r '([&quot;hostname&quot;,&quot;system_id&quot;]
|(.,map(length*&quot;-&quot;))),(.[]|[.hostname,.system_id])
|@tsv' | column -t
</code></pre>
<p>For example:</p>
<pre><code class="language-bash">maas admin machines read \
| jq -r '([&quot;hostname&quot;,&quot;system_id&quot;]
|(.,map(length*&quot;-&quot;))),(.[]|[.hostname,.system_id])
|@tsv' | column -t
</code></pre>
<p>Typical output might look something like this:</p>
<pre><code class="language-nohighlight">hostname       system_id
--------       ---------
divine-stork   8b3ypp
casual-prawn   4end6r
</code></pre>
<p><a href="#heading--How-to-manage-machine-notes-in-the-MAAS-CLI"><h4 id="heading--How-to-manage-machine-notes-in-the-MAAS-CLI">How to manage machine notes in the MAAS CLI</h4></a></p>
<p>Add a note to a given machine like this:</p>
<pre><code class="language-bash">maas $PROFILE machine update $SYSTEM_ID description=&quot;$NOTE&quot;
</code></pre>
<p>For example:</p>
<pre><code class="language-bash">maas admin machine update ke3wc7 description=&quot;kilo-echo-3-whisky-charlie-7&quot;
</code></pre>
<p>The same command can be used to change the note, like this:</p>
<pre><code class="language-bash">maas $PROFILE machine update $SYSTEM_ID description=&quot;$A_DIFFERENT_NOTE&quot;
</code></pre>
<p>The existing note will be overwritten by the new one you enter.  You can also remove a note by entering and empty description, like this:</p>
<pre><code class="language-bash">maas admin machine update ke3wc7 description=&quot;
</code></pre>
<p><a href="#heading--How-to-list-notes-for-all-machines"><h4 id="heading--How-to-list-notes-for-all-machines">How to list notes for all machines</h4></a></p>
<p>List notes for all machines like this:</p>
<pre><code class="language-bash">maas $PROFILE machines read \
| jq -r '([&quot;hostname&quot;,&quot;system_id&quot;,&quot;description&quot;]
|(.,map(length*&quot;-&quot;))),(.[]|[.hostname,.system_id,.description])
|@tsv' | column -t
</code></pre>
<p>For example:</p>
<pre><code class="language-bash">maas admin machines read \
| jq -r '([&quot;hostname&quot;,&quot;system_id&quot;,&quot;description&quot;]
|(.,map(length*&quot;-&quot;))),(.[]|[.hostname,.system_id,.description])
|@tsv' | column -t
</code></pre>
<p>Output might look something like this:</p>
<pre><code class="language-nohighlight">hostname       system_id  description
--------       ---------  -----------
driven-teal    tgaat6     tango-golf
humble-bunny   srqnnb     sierra-romeo
tough-kit      ke3wc7     kilo-echo
</code></pre>
<p>You can also check the note for one machine like this &ndash; note the use of the <em>singular</em> &ldquo;machine&rdquo; versus &ldquo;machines&rdquo;:</p>
<pre><code class="language-bash"> maas $PROFILE machine read $SYSTEM_ID \
| jq -r '([&quot;hostname&quot;,&quot;system_id&quot;,&quot;description&quot;]
|(.,map(length*&quot;-&quot;))),([.hostname,.system_id,.description])
|@tsv' | column -t
</code></pre>
<p>For example:</p>
<pre><code class="language-bash"> maas admin machine read tgaat6 \
| jq -r '([&quot;hostname&quot;,&quot;system_id&quot;,&quot;description&quot;]
|(.,map(length*&quot;-&quot;))),([.hostname,.system_id,.description])
|@tsv' | column -t
</code></pre>
<p>A command like this might produce output as follows:</p>
<pre><code class="language-nohighlight">hostname     system_id  description
--------     ---------  -----------
driven-teal  tgaat6     tango-golf
</code></pre>
<p><a href="#heading--work-with-dynamic-workload-annotations"><h2 id="heading--work-with-dynamic-workload-annotations">How to work with dynamic (workload) annotations</h2></a></p>
<p>Dynamic annotations persist only as long as a machine is allocated or deployed.  They help alert others to the status of your running workloads.  Dynamic annotations are managed in the MAAS CLI, but can be viewed and filtered using the MAAS UI.</p>
<p><a href="#heading--How-to-identify-machines-that-can-receive-dynamic-annotations"><h3 id="heading--How-to-identify-machines-that-can-receive-dynamic-annotations">How to identify machines that can receive dynamic annotations</h3></a></p>
<p>You can only set dynamic annotations for machines that are in the &ldquo;Allocated&rdquo; or &ldquo;Deployed&rdquo; state.  To identify which of your machines are in these states, you can execute the following command:</p>
<pre><code class="language-bash">maas $PROFILE machines read \
| jq -r '([&quot;hostname&quot;,&quot;system_id&quot;,&quot;status&quot;]
|(.,map(length*&quot;-&quot;))),(.[]|[.hostname,.system_id,.status_name])
|@tsv' | column -t
</code></pre>
<p>For example:</p>
<pre><code class="language-bash">maas admin machines read \
| jq -r '([&quot;hostname&quot;,&quot;system_id&quot;,&quot;status&quot;]
|(.,map(length*&quot;-&quot;))),(.[]|[.hostname,.system_id,.status_name])
|@tsv' | column -t
</code></pre>
<p>Output might look something like this:</p>
<pre><code class="language-nohighlight">hostname       system_id  status
--------       ---------  ------
divine-stork   8b3ypp     Deployed
casual-prawn   4end6r     Ready
driven-teal    tgaat6     Allocated
immune-beetle  43xand     Allocated
good-osprey    napfxk     Allocated
smart-hen      c4rwq7     Allocated
boss-satyr     xn8taa     Ready
golden-martin  8fxery     Allocated
crack-guinea   qk4b3g     Allocated
finer-leech    cy3dtr     Deployed
free-mouse     gxtbq4     Allocated
humble-bunny   srqnnb     Allocated
wanted-muskox  ekw7fh     Deployed
one-boa        by477d     Allocated
great-urchin   srnx4g     Allocated
ace-frog       g6arwg     Ready
alive-marlin   gbwnfb     Deployed
picked-parrot  am77wn     Allocated
tough-kit      ke3wc7     Deployed
legal-whale    8nq3mt     Allocated
game-sponge    76pdc6     Allocated
fun-ghoul      qxfm7k     Allocated
aware-earwig   8m8hs7     Deployed
chief-crane    7fapx7     Ready
select-tapir   4ascbr     Allocated
on-slug        snfs8d     Allocated
polite-llama   dbqd4m     Allocated
frank-coyote   wcmk48     Allocated
usable-condor  ed8hmy     Deployed
still-imp      h6ra6d     Allocated
</code></pre>
<p><a href="#heading--How-to-set-dynamic-annotations"><h3 id="heading--How-to-set-dynamic-annotations">How to set dynamic annotations</h3></a></p>
<p>Dynamic annotations, otherwise known as &ldquo;workload annotations&rdquo; or &ldquo;owner data,&rdquo; can be used to keep track of the runtime status of machines that are allocated or deployed.  These annotations are set using <code>key=value</code> pairs.  You can set any <code>key=value</code> pair that you wish for any machine, although it&rsquo;s probably more useful if you standardise your key names.</p>
<p>To set a dynamic annotation for a machine, you can enter a command like this:</p>
<pre><code class="language-bash">maas $PROFILE machine set-owner-data $SYSTEM_ID $KEY=$VALUE
</code></pre>
<p>For example:</p>
<pre><code class="language-bash">maas admin machine set-owner-data tgaat6 owner=gsmith@how-to-annotate-machines.htmlo.com
</code></pre>
<p>This command will return a JSON string representative of the machine&rsquo;s new configuration, including the dynamic annotations you&rsquo;ve added. </p>
<p><a href="#heading--How-to-clear-or-change-dynamic-annotations"><h3 id="heading--How-to-clear-or-change-dynamic-annotations">How to clear or change dynamic annotations</h3></a></p>
<p>You can change dynamic annotations for a machine simply by executing a new <code>set-owner-data</code> command:</p>
<pre><code class="language-bash">maas $PROFILE machine set-owner-data $SYSTEM_ID $KEY=$NEW_VALUE
</code></pre>
<p>You can clear a dynamic annotation by entering the empty string (<code>"</code>) as the $VALUE:</p>
<pre><code class="language-bash">maas $PROFILE machine set-owner-data $SYSTEM_ID $KEY=&quot;
</code></pre>
<p><a href="#heading--list-dynamic-annotations-for-all-machines"><h3 id="heading--list-dynamic-annotations-for-all-machines">How to list dynamic annotations for all machines</h3></a></p>
<p>You can list the current dynamic annotations for all machines with a command like this:</p>
<pre><code class="language-bash">maas $PROFILE machines read \
| jq -r '([&quot;hostname&quot;,&quot;system_id&quot;,&quot;owner_data&quot;]
|(.,map(length*&quot;-&quot;))),(.[]|[.hostname,.system_id,.owner_data[]])
|@tsv' | column -t
</code></pre>
<p>For example:</p>
<pre><code class="language-bash">maas admin machines read \
| jq -r '([&quot;hostname&quot;,&quot;system_id&quot;,&quot;owner_data&quot;]
|(.,map(length*&quot;-&quot;))),(.[]|[.hostname,.system_id,.owner_data[]])
|@tsv' | column -t
</code></pre>
<p>This command output might look something like this:</p>
<pre><code class="language-nohighlight">hostname       system_id  owner_data
--------       ---------  ----------
divine-stork   8b3ypp
casual-prawn   4end6r
driven-teal    tgaat6     farquar     foobar
immune-beetle  43xand
good-osprey    napfxk
smart-hen      c4rwq7
</code></pre>
<p><a href="#heading--list-dynamic-annotations-for-one-machine"><h3 id="heading--list-dynamic-annotations-for-one-machine">How to list dynamic annotations for one machine</h3></a></p>
<p>You can list the dynamic annotations for one machine by entering a command of the form:</p>
<pre><code class="language-bash">maas $PROFILE machine read $SYSTEM_ID \
| jq -r '([&quot;hostname&quot;,&quot;system_id&quot;,&quot;owner_data&quot;]
|(.,map(length*&quot;-&quot;))),(.[]|[.hostname,.system_id,.owner_data[]])
|@tsv' | column -t
</code></pre>
<p>For example:</p>
<pre><code class="language-bash">maas admin machine read tgaat6 \
| jq -r '([&quot;hostname&quot;,&quot;system_id&quot;,&quot;owner_data&quot;]
|(.,map(length*&quot;-&quot;))),(.[]|[.hostname,.system_id,.owner_data[]])
|@tsv' | column -t
</code></pre>
<p>This will produce output similar to the following:</p>
<pre><code class="language-nohighlight">hostname     system_id  owner_data
--------     ---------  ----------
driven-teal  tgaat6     farquar     foobar
</code></pre>
<p><a href="#heading--How-to-view-dynamic-annotations-via-the-MAAS-UI"><h3 id="heading--How-to-view-dynamic-annotations-via-the-MAAS-UI">How to view dynamic annotations via the MAAS UI</h3></a></p>
<p>To view the dynamic (workload) annotations for one machine &ndash; via the MAAS UI &ndash; do the following:</p>
<ol>
<li>
<p>Select <em>Machines</em>.</p>
</li>
<li>
<p>Select the machine of interest by clicking on its hyperlinked name.</p>
</li>
<li>
<p>In the machine summary that comes up, look for the <em>Workload Annotations</em> card.</p>
</li>
</ol>
<p><a href="#heading--filter-on-dynamic-workload-annotations"><h3 id="heading--filter-on-dynamic-workload-annotations">How to filter on dynamic annotations via the MAAS UI</h3></a></p>
<p>To filter machines by dynamic (workload) annotations, use the following procedure:</p>
<ol>
<li>
<p>Select <em>Machines</em>.</p>
</li>
<li>
<p>Select the <em>Filters</em> dropdown.</p>
</li>
<li>
<p>Select <em>Workload</em>.</p>
</li>
<li>
<p>Select one or more values from the <em>Workload</em> list to filter the machine list.</p>
</li>
</ol>
    </div>
  </body>
</html>