<!DOCTYPE html>
    <html>
    <body>
    <div class="container">
    <h1>How to manage availability zones</h1><!-- "How to manage availability zones" -->
<p>An availability zone is an organisational unit containing nodes, where each node is in exactly one zone. While in production, a machine can be allocated from a specific zone.  Availability zones can be used for fault-tolerance, service performance, and power management. See <a href="about-networking.html#heading--about-availability-zones">Zone examples</a> for more details.</p>
<p>A newly installed MAAS comes with a default zone which initially contains all nodes. You cannot remove the &lsquo;default&rsquo; zone or change its name, but you can create new zones and assign machine to them. This article will help you learn:</p>
<ul style="margin-left:4px; list-style-type:disc;">
<li><a href="#heading--list-zones">How to list availability zones</a></li>
<li><a href="#heading--add-a-zone">How to add an availability zone</a></li>
<li><a href="#heading--edit-a-zone">How to edit an existing availability zone</a></li>
<li><a href="#heading--delete-a-zone">How to delete an existing availability zone</a></li>
<li><a href="#heading--assign-a-node-to-a-zone">How to assign a machine to an availability zone</a></li>
<li><a href="#heading--allocate-a-node-in-a-zone">How to allocate a machine in a particular zone</a></li>
</ul>
<p><a href="#heading--allocate-a-node-in-a-zone"><h2 id="heading--allocate-a-node-in-a-zone">How to allocate a machine in a particular zone</h2></a></p>
<p>Allocating a machine in a particular zone can only be done via the MAAS CLI.</p>
<p>To deploy in a particular zone, call the <code>acquire</code> method in the region-controller API &lt;region-controller-api&gt; as before, but pass the <code>zone</code> parameter with the name of the zone. This method will allocate a machine in that zone, or fail with an HTTP 409 (&ldquo;conflict&rdquo;) error if the zone has no machines available that match your request.</p>
<p>Alternatively, you may want to request a machine that is not in a particular zone or one that is not in any of several zones. To do that, specify the <code>not_in_zone</code> parameter to <code>acquire</code>. This parameter takes a list of zone names; the allocated machine will not be in any of them. Again, if that leaves no machines available that match your request, the call will return a &ldquo;conflict&rdquo; error.</p>
<p>It is possible, though not usually useful, to combine the <code>zone</code> and <code>not_in_zone</code> parameters. If your choice for <code>zone</code> is also present in <code>not_in_zone</code>, no machine will ever match your request. Or if it&rsquo;s not, then the <code>not_in_zone</code> values will not affect the result of the call at all.</p>
    </div>
    </body>
    </html>
    