<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="css/stylesheet.css" />
    <style>
      #selector a:link{color:black;}
      #selector a:visited{color:black;}
      #selector a:active{color:black;}
      #selector a:hover{color:blue;}
      #sidebar a:link{color:black;}
      #sidebar a:visited{color:black;}
      #sidebar a:active{color:black;}
      #sidebar a:hover{color:blue;}
      ul {margin-left:0;list-style-type:none;}
      li {margin: 4px 0;}
    </style>
  </head>
  <body>
    <div id="selector" style="top:0; position:fixed; float:right; background-color:#d9d9d9; width:100%;border-bottom:1px solid black;">
      &nbsp;&nbsp;<strong>Offline docs</strong>
      <a href="https://maas.io/docs">(switch to live docs)</a>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	<a href="../ui/power-drivers-reference.html">
	  UI-only
	</a>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <span style="background-color:white;border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; border-bottom:5px solid white;">
	  &nbsp;CLI-only&nbsp;
      </span>
    </div>
    <div id="sidebar" style="float:left; width:25%;margin-top:40px; margin-left:20px">
      <strong>
	<a href="ui/maas-documentation-25.html">
	  Home
	</a>
      </strong>
      <p>
      <strong>
	<a href="ui/tutorials.html">
	  Tutorials
	</a>
      </strong>
      <ul>
	<li>
	  <a href="ui/bootstrap-maas.html">
	    Bootstrap MAAS
	  </a>
	</li>
	<li>
	  <a href="ui/try-out-the-maas-cli.html">
	    Try out the MAAS CLI
	  </a>
	</li>
	<li>
	  <a href="ui/create-a-custom-image.html">
	    Create a custom image
	  </a>
	</li>
	<li>
	  <a href="ui/get-fancy-cli-output.html">
	    Get fancy CLI output
	  </a>
	</li>
      </ul>
      <strong>
	<a href="ui/how-to-get-started-with-maas.html">
	  How to get started with MAAS
	</a>
      </strong>
      <ul>
	<li>
	  <a href="ui/how-to-do-a-fresh-install-of-maas.html">
	    Do a fresh install of MAAS
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-upgrade-maas.html">
	    Upgrade MAAS
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-spin-up-maas-with-ansible.html">
	    Spin up MAAS with Ansible
	  </a>
	</li>
      </ul>
      <strong>
	<a href="ui/how-to-set-up-networks.html">
	  How to set up networks
	</a>
      </strong>
      <ul>
	<li>
	  <a href="ui/how-to-connect-maas-networks.html">
	    Connect MAAS networks
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-enable-dhcp.html">
	    Enable DHCP
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-use-availability-zones.html">
	    Use availability zones
	  </a>
	</li>
      </ul>
      <strong>
	<a href="ui/how-to-use-images.html">
	  How to use images
	</a>
      </strong>
      <ul>
	<li>
	  <a href="ui/how-to-use-standard-images.html">
	    Use standard images
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-mirror-images-locally.html">
	    Mirror images locally
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-customise-images.html">
	    Customise images
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-employ-vmware-images.html">
	    Employ VMWare images
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-deploy-a-real-time-kernel.html">
	    Deploy a RT kernel
	  </a>
	</li>
      </ul>
      <strong>
	<a href="ui/how-to-manage-controllers.html">
	  How to manage controllers
	</a>
      </strong>
      <ul>
	<li>
	  <a href="ui/how-to-configure-controllers.html">
	    Configure controllers
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-enable-high-availability.html">
	    Enable HA
	  </a>
	</li>
      </ul>
      <strong>
	<a href="ui/how-to-manage-machines.html">
	  How to manage machines
	</a>
      </strong>
      <ul>
	<li>
	  <a href="ui/how-to-make-machines-available.html">
	    Make machines available
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-customise-machines.html">
	    Customise machines
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-put-machines-to-work.html">
	    Put machines to work
	  </a>
	</li>
      </ul>
      <strong>
	<a href="ui/how-to-use-virtual-machines.html">
	  How to use virtual machines
	</a>
      </strong>
      <ul>
	<li>
	  <a href="ui/how-to-set-up-lxd.html">
	    Set up LXD
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-manage-vm-hosts.html">
	    Manage VM hosts
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-manage-virtual-machines.html">
	    Manage virtual machines
	  </a>
	</li>
      </ul>
      <strong>
	<a href="ui/how-to-label-devices.html">
	  How to label devices
	</a>
      </strong>
      <ul>
	<li>
	  <a href="ui/how-to-tag-machines.html">
	    Tag machines
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-annotate-machines.html">
	    Annotate machines
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-use-machine-tags.html">
	    Use machine tags
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-use-controller-tags.html">
	    Use controller tags
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-use-storage-tags.html">
	    Use storage tags
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-use-network-tags.html">
	    Use network tags
	  </a>
	</li>
      </ul>
      <strong>
	<a href="ui/how-to-secure-maas.html">
	  How to secure MAAS
	</a>
      </strong>
      <ul>
	<li>
	  <a href="ui/how-to-improve-maas-security.html">
	    Improve MAAS security
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-manage-user-accounts.html">
	    Manage user accounts
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-enable-maas-native-tls.html">
	    Enable MAAS native TLS
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-use-hashicorp-vault-with-maas.html">
	    Use Vault with MAAS
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-set-up-an-air-gapped-maas.html">
	    Set up an air-gapped MAAS
	  </a>
	</li>
      </ul>
      <strong>
	<a href="ui/how-to-operate-maas.html">
	  How to operate MAAS
	</a>
      </strong>
      <ul>
	<li>
	  <a href="ui/how-to-find-machines.html">
	    Find machines
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-back-up-maas.html">
	    Back up MAAS
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-monitor-maas.html">
	    Monitor MAAS
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-audit-maas.html">
	    Audit MAAS
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-troubleshoot-maas.html">
	    Troubleshoot MAAS
	  </a>
	</li>
      </ul>
      <strong>
	<a href="ui/how-to-give-and-receive-help.html">
	  How to give and receive help
	</a>
      </strong>
      <ul>
	<li>
	  <a href="ui/how-to-use-our-discourse-forum.html">
	    Use our discourse forum
	  </a>
	</li>
	<li>
	  <a href="how-to-contact-us">
	    Get support↗
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-request-new-features.html">
	    Request new features
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-review-and-report-bugs.html">
	    Review and report bugs
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-contribute-doc.html">
	    Contribute documentation
	  </a>
	</li>
      </ul>
      <strong>
	<a href="ui/general-reference.html">
	  General reference
	</a>
      </strong>
      <ul>
	<li>
	  <a href="ui/what-is-new-with-maas.html">
	    Release notes
	  </a>
	</li>
	<li>
	  <a href="ui/maas-installation-requirements.html">
	    Installation requirements
	  </a>
	</li>
	<li>
	  <a href="ui/maas-settings-reference.html">
	    MAAS settings
	  </a>
	</li>
	<li>
	  <a href="ui/https://launchpad.net/maas.html">
	    MAAS source code↗
	  </a>
	</li>
	<li>
	  <a href="ui/how-to-help-improve-the-doc.html">
	    Doc style guide
	  </a>
	</li>
	<li>
	  <a href="ui/maas-glossary.html">
	    Glossary
	  </a>
	</li>
	<li>
	  <a href="https://ubuntu.com/community/code-of-conduct">
	    Code of conduct↗
	  </a>
	</li>
      </ul>
      <strong>
	<a href="ui/api-reference.html">
	  API reference
	</a>
      </strong>
      <ul>
	<li>
	  <a href="ui/api-authentication-reference.html">
	    API authentication
	  </a>
	</li>
	<li>
	  <a href="ui/python-api-client-reference.html">
	    Python API client
	  </a>
	</li>
	<li>
	  <a href="api">
	    API documentation↗
	  </a>
	</li>
      </ul>
      <strong>
	<a href="ui/maas-scripts-reference.html">
	  Scripts reference
	</a>
      </strong>
      <ul>
	<li>
	  <a href="ui/commissioning-scripts-reference.html">
	    Commissioning scripts
	  </a>
	</li>
	<li>
	  <a href="ui/hardware-test-scripts-reference.html">
	    Hardware test scripts
	  </a>
	</li>
	<li>
	  <a href="ui/maas-terraform-reference.html">
	    Terraform
	  </a>
	</li>
      </ul>
      <strong>
	<a href="ui/maas-logs-reference.html">
	  Log reference
	</a>
      </strong>
      <ul>
	<li>
	  <a href="ui/event-logs-reference.html">
	    Event logs
	  </a>
	</li>
	<li>
	  <a href="ui/audit-event-logs-reference.html">
	    Audit event logs
	  </a>
	</li>
	<li>
	  <a href="ui/commissioning-logs-reference.html">
	    Commissioning logs
	  </a>
	</li>
	<li>
	  <a href="ui/testing-logs-reference.html">
	    Testing logs
	  </a>
	</li>
      </ul>
      <strong>
	<a href="ui/machine-parameters-reference.html">
	  Machine parameters reference
	</a>
      </strong>
      <ul>
	<li>
	  <a href="ui/power-drivers-reference.html">
	    Power drivers
	  </a>
	</li>
	<li>
	  <a href="ui/storage-layouts-reference.html">
	    Storage layouts
	  </a>
	</li>
	<li>
	  <a href="ui/device-labelling-reference.html">
	    Device labelling
	  </a>
	</li>
      </ul>
      <strong>
	<a href="ui/.html">
	  Explanation
	</a>
      </strong>
      <ul>
	<li>
	  <a href="ui/about-maas.html">
	    About MAAS
	  </a>
	</li>
	<li>
	  <a href="ui/about-networking.html">
	    About networking
	  </a>
	</li>
	<li>
	  <a href="ui/about-images.html">
	    About images
	  </a>
	</li>
	<li>
	  <a href="ui/about-controllers.html">
	    About controllers
	  </a>
	</li>
	<li>
	  <a href="ui/about-machines.html">
	    About machines
	  </a>
	</li>
	<li>
	  <a href="ui/about-virtual-machines.html">
	    About virtual machines
	  </a>
	</li>
	<li>
	  <a href="ui/about-device-labels.html">
	    About device labels
	  </a>
	</li>
	<li>
	  <a href="ui/about-maas-events.html">
	    About MAAS events
	  </a>
	</li>
	<li>
	  <a href="ui/about-maas-audit-events.html">
	    About audit events
	  </a>
	</li>
	<li>
	  <a href="ui/about-maas-logging.html">
	    About MAAS logging
	  </a>
	</li>
	<li>
	  <a href="ui/about-maas-security.html">
	    About MAAS security
	  </a>
	</li>
	<li>
	  <a href="ui/about-maas-performance.html">
	    About MAAS performance
	  </a>
	</li>
	<li>
	  <a href="ui/about-ansible.html">
	    About Ansible
	  </a>
	</li>
      </ul>
    </div>
    <div class="container" style="float:right; width:65%; margin-top:40px; margin-right:30px">
      <h1>Power drivers reference</h1><!-- "Power drivers reference" -->
<p>To manage a machine, MAAS must be able to power cycle it, usually through the machine&rsquo;s <a href="https://en.wikipedia.org/wiki/Intelligent_Platform_Management_Interface#Baseboard_management_controller">BMC</a><code>↗</code> card.  Until you configure the power type, a newly-added machine can&rsquo;t be enlisted and used by MAAS.</p>
<p><a href="#heading--about-ipmi-cipher-suites"><h2 id="heading--about-ipmi-cipher-suites">About IPMI cipher suites</h2></a></p>
<p>We require the user to explicitly set the cipher suite due to the fact that one BMC’s order is different from another, leading to erroneous discovery. You can explicitly select which cipher suite to use when interacting with a BMC. You do this by selecting the cipher suite in power configuration.  By default, the cipher suite is 3. This is the least secure suite. It is up to you to select a more secure suite if supported and desired.</p>
<p><a href="#heading--power-management-reference"><h2 id="heading--power-management-reference">Power management reference guide</h2></a></p>
<p>This article will help you learn:</p>
<ul style="margin-left:4px; list-style-type:disc;">
<li><a href="#heading--config-power-type">How to configure a machine&rsquo;s power type</a></li>
<li><a href="#heading--configure-use-ibm-z">How to configure and use IBM Z with MAAS</a></li>
<li><a href="#heading--example-virsh-kvm-power-type">How to use the virsh power type</a></li>
<li><a href="#heading--bmc-driver-support">Which BMC drivers are supported</a></li>
</ul>
<p>In addition, this article provides a <a href="#heading--power-catalogue">complete catalogue of power parameters, by type</a>.</p>
<p>You may also like to try <strong><a href="https://gilesknap.github.io/maaspower/main/index.html">maaspower</a></strong><code>↗</code> which is a community project designed to be used with the MAAS webhook driver. It is a pluggable system that accepts MAAS webhooks and can translate them to other external systems. Note: it is not supported by Canonical.</p>
<p><a href="#heading--config-power-type"><h2 id="heading--config-power-type">How to configure a machine&rsquo;s power type</h2></a></p>
<p>To (re)configure a machine&rsquo;s power type, first find the machine&rsquo;s $SYSTEM_ID with the following recipe:</p>
<pre><code>maas admin machines read | jq -r '([&quot;HOSTNAME&quot;,&quot;SIS'S&quot;] | (., map(length*&quot;-&quot;))),
(.[] | [.hostname, .system_id]) | @tsv' | column -t
</code></pre>
<p>Next, use the <a href="try-out-the-maas-cli.html">MAAS CLI</a> command <code>maas machines...</code> to (re)set the machine&rsquo;s power type, like this:</p>
<pre><code>maas $PROFILE machine update $SYSTEM_ID power_type="$POWER_TYPE"
</code></pre>
<p>where $POWER_TYPE can have the following values:</p>
<table>
<thead>
<tr>
<th align="left">CLI power_type code</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a href="#heading--amt">amt</a></td>
<td align="left">Intel AMT</td>
</tr>
<tr>
<td align="left"><a href="#heading--apc">apc</a></td>
<td align="left">American Power Conversion (APC) PDU</td>
</tr>
<tr>
<td align="left"><a href="#heading--dli">dli</a></td>
<td align="left">Digital Loggers, Inc. PDU</td>
</tr>
<tr>
<td align="left"><a href="#heading--eaton">eaton</a></td>
<td align="left">Eaton PDU</td>
</tr>
<tr>
<td align="left"><a href="#heading--hmc">hmc</a></td>
<td align="left">IBM Hardware Management Console (HMC)</td>
</tr>
<tr>
<td align="left"><a href="#heading--lxd">lxd</a></td>
<td align="left">LXD VM</td>
</tr>
<tr>
<td align="left"><a href="#heading--ipmi">ipmi</a></td>
<td align="left">IPMI</td>
</tr>
<tr>
<td align="left"><a href="#heading--manual">manual</a></td>
<td align="left">Manual power configuration</td>
</tr>
<tr>
<td align="left"><a href="#heading--moonshot">moonshot</a></td>
<td align="left">HP Moonshot - iLO4 (IPMI)</td>
</tr>
<tr>
<td align="left"><a href="#heading--mscm">mscm</a></td>
<td align="left">HP Moonshot - iLO Chassis Manager</td>
</tr>
<tr>
<td align="left"><a href="#heading--mscm">msftocs</a></td>
<td align="left">Microsoft OCS - Chassis Manager</td>
</tr>
<tr>
<td align="left"><a href="#heading--nova">nova</a></td>
<td align="left">OpenStack Nova</td>
</tr>
<tr>
<td align="left"><a href="#heading--openbmc">openbmc</a></td>
<td align="left">OpenBMC Power Driver</td>
</tr>
<tr>
<td align="left"><a href="#heading--recs_box">recs_box</a></td>
<td align="left">Christmann RECS-Box Power Driver</td>
</tr>
<tr>
<td align="left"><a href="#heading--redfish">redfish</a></td>
<td align="left">Redfish</td>
</tr>
<tr>
<td align="left"><a href="#heading--sm15k">sm15k</a></td>
<td align="left">SeaMicro 15000</td>
</tr>
<tr>
<td align="left"><a href="#heading--ucsm">ucsm</a></td>
<td align="left">Cisco UCS Manager</td>
</tr>
<tr>
<td align="left"><a href="#heading--virsh">virsh</a></td>
<td align="left">libvirt KVM</td>
</tr>
<tr>
<td align="left"><a href="#heading--vmware">vmware</a></td>
<td align="left">VMware</td>
</tr>
<tr>
<td align="left"><a href="#heading--wedge">wedge</a></td>
<td align="left">Facebook&rsquo;s Wedge</td>
</tr>
</tbody>
</table>
<p>Note the required and optional parameters associated with each power type.</p>
<p>Once you&rsquo;ve successfully processed the command (as indicated by a stream of JSON, headed by &ldquo;Success!&rdquo;), MAAS performs a power check on the machine. A successful power check is a good indication that MAAS can properly communicate with the machine, that is, it should quickly result in a power status of &ldquo;Power off&rdquo;. A failed attempt will return errors that should guide you to fix your power_parameters.</p>
<p><a href="#heading--power-catalogue"><h2 id="heading--power-catalogue">Power catalogue</h2></a></p>
<p><a href="#heading--amt"><h3 id="heading--amt">Intel AMT</h3></a></p>
<p>All parameters are entered as <code>key=value</code>, e.g., <code>power_type=amt</code>.  The MAAS CLI will refuse the request with informative errors if required parameters are excluded.</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
<th align="left">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>power_type</code></td>
<td align="left"><code>amt</code></td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_address</code></td>
<td align="left">IP address of unit</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_pass</code></td>
<td align="left">Password to access unit</td>
<td align="left">Optional</td>
</tr>
</tbody>
</table>
<p><a href="#heading--apc"><h3 id="heading--apc">American Power Conversion (APC) PDU</h3></a></p>
<p>All parameters are entered as <code>key=value</code>, e.g., <code>power_type=apc</code>.  The MAAS CLI will refuse the request with informative errors if required parameters are excluded.</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
<th align="left">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>power_type</code></td>
<td align="left"><code>apc</code></td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_address</code></td>
<td align="left">IP address of unit</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>node_outlet</code></td>
<td align="left">PDU node outlet number</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_on_delay</code></td>
<td align="left">outlet power ON delay</td>
<td align="left">Optional, default=5</td>
</tr>
</tbody>
</table>
<p><a href="#heading--dli"><h3 id="heading--dli">Digital Loggers, Inc. PDU</h3></a></p>
<p>All parameters are entered as <code>key=value</code>, e.g., <code>power_type=dli</code>.  The MAAS CLI will refuse the request with informative errors if required parameters are excluded.</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
<th align="left">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>power_type</code></td>
<td align="left"><code>dli</code></td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>outlet_id</code></td>
<td align="left">outlet ID</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_address</code></td>
<td align="left">IP address of unit</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_user</code></td>
<td align="left">Username to login</td>
<td align="left">Optional</td>
</tr>
<tr>
<td align="left"><code>power_pass</code></td>
<td align="left">Password to access unit</td>
<td align="left">Optional</td>
</tr>
</tbody>
</table>
<p><a href="#heading--eaton"><h3 id="heading--eaton">Eaton PDU</h3></a></p>
<p>All parameters are entered as <code>key=value</code>, e.g., <code>power_type=eaton</code>.  The MAAS CLI will refuse the request with informative errors if required parameters are excluded.</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
<th align="left">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>power_type</code></td>
<td align="left"><code>eaton</code></td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_address</code></td>
<td align="left">IP address of unit</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>node_outlet</code></td>
<td align="left">PDU node outlet number</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_on_delay</code></td>
<td align="left">outlet power ON delay</td>
<td align="left">Optional, default=5</td>
</tr>
</tbody>
</table>
<p><a href="#heading--hmc"><h3 id="heading--hmc">IBM Hardware Management Console (HMC)</h3></a></p>
<p>All parameters are entered as <code>key=value</code>, e.g., <code>power_type=hmc</code>.  The MAAS CLI will refuse the request with informative errors if required parameters are excluded.</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
<th align="left">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>power_type</code></td>
<td align="left"><code>hmc</code></td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_address</code></td>
<td align="left">IP address of unit</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>server_name</code></td>
<td align="left">HMC managed server name</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>lpar</code></td>
<td align="left">HMC logical partition of unit</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_user</code></td>
<td align="left">Username to login</td>
<td align="left">Optional</td>
</tr>
<tr>
<td align="left"><code>power_pass</code></td>
<td align="left">Password to access unit</td>
<td align="left">Optional</td>
</tr>
</tbody>
</table>
<p><a href="#heading--lxd"><h3 id="heading--lxd">LXD VMs</h3></a></p>
<p>All parameters are entered as <code>key=value</code>, e.g., <code>power_type=lxd</code>.  The MAAS CLI will refuse the request with informative errors if required parameters are excluded.</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
<th align="left">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>power_type</code></td>
<td align="left"><code>lxd</code></td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_address</code></td>
<td align="left">IP address of unit</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>instance_name</code></td>
<td align="left">LXD container instance name</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_pass</code></td>
<td align="left">Password to access unit</td>
<td align="left">Optional</td>
</tr>
</tbody>
</table>
<p><a href="#heading--ipmi"><h3 id="heading--ipmi">IPMI</h3></a></p>
<p>All parameters are entered as <code>key=value</code>, e.g., <code>power_type=amt</code>.  The MAAS CLI will refuse the request with informative errors if required parameters are excluded. Power driver specific parameters should be prefixed with <code>power_parameters_{key}</code>.</p>
<p>Some of the fields for this power type have fixed choices, indicated in the &ldquo;Choices&rdquo; column.</p>
<table>
<thead>
<tr>
<th align="left">Form field</th>
<th align="left">Description</th>
<th align="left">Choices</th>
<th align="left">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>power_driver</code></td>
<td align="left">Power driver</td>
<td align="left"><code>LAN [IPMI 1.5]</code></td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"><code>LAN_2_0 [IPMI 2.0]</code></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>power_boot_type</code></td>
<td align="left">Boot type</td>
<td align="left"><code>Automatic</code></td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"><code>Legacy boot</code></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"><code>EFI boot</code></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>power_address</code></td>
<td align="left">IP address of unit</td>
<td align="left"></td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_user</code></td>
<td align="left">Username to login</td>
<td align="left"></td>
<td align="left">Optional</td>
</tr>
<tr>
<td align="left"><code>power_pass</code></td>
<td align="left">Password to access unit</td>
<td align="left"></td>
<td align="left">Optional</td>
</tr>
<tr>
<td align="left"><code>mac_address</code></td>
<td align="left">MAC address of unit</td>
<td align="left"></td>
<td align="left">Optional</td>
</tr>
<tr>
<td align="left"><code>k_g</code></td>
<td align="left">K_g BMC key</td>
<td align="left"></td>
<td align="left">Optional</td>
</tr>
<tr>
<td align="left"><code>cipher_suite_id</code></td>
<td align="left">Cipher suite ID</td>
<td align="left"><code>17</code> <small>(17 - HMAC-SHA256::HMAC_SHA256_128::AES-CBC-128)</small></td>
<td align="left">Optional</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"><code>3</code> <small>(3 - HMAC-SHA1::HMAC-SHA1-96::AES-CBC-128)</small></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"><code></code> (blank) <small>(freeipmi-tools default)</small></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"><code>8</code> <small>(8 - HMAC-MD5::HMAC-MD5-128::AES-CBC-128)</small></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"><code>12</code> <small>(12 - HMAC-MD5::MD5-128::AES-CBC-128)</small></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>privilege_level</code></td>
<td align="left">IPMI privilege level</td>
<td align="left"><code>User</code></td>
<td align="left">Optional</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"><code>Operator</code></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"><code>Administrator</code></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p><a href="#heading--manual"><h3 id="heading--manual">Manual power configuration</h3></a></p>
<p>Manual power configuration means exactly that &ndash; manually configured at the unit.  The only MAAS CLI parameter is <code>power_type=amt</code>. </p>
<p><a href="#heading--moonshot"><h3 id="heading--moonshot">HP Moonshot - iLO4 (IPMI)</h3></a></p>
<p>All parameters are entered as <code>key=value</code>, e.g., <code>power_type=moonshot</code>.  The MAAS CLI will refuse the request with informative errors if required parameters are excluded.</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
<th align="left">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>power_type |</code>moonshot`</td>
<td align="left">Required</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>power_address</code></td>
<td align="left">IP address of unit</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_hwaddress</code></td>
<td align="left">Hardware address of unit</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_user</code></td>
<td align="left">Username to login</td>
<td align="left">Optional</td>
</tr>
<tr>
<td align="left"><code>power_pass</code></td>
<td align="left">Password to access unit</td>
<td align="left">Optional</td>
</tr>
</tbody>
</table>
<p><a href="#heading--mscm"><h3 id="heading--mscm">HP Moonshot - iLO Chassis Manager</h3></a></p>
<p>All parameters are entered as <code>key=value</code>, e.g., <code>power_type=mscm</code>.  The MAAS CLI will refuse the request with informative errors if required parameters are excluded.</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
<th align="left">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>power_type |</code>mscm`</td>
<td align="left">Required</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>power_address</code></td>
<td align="left">IP address of unit</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>node_id</code></td>
<td align="left">cXnY</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left">- where</td>
<td align="left">X = cartridge number</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left">Y = node number</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>power_user</code></td>
<td align="left">Username to login</td>
<td align="left">Optional</td>
</tr>
<tr>
<td align="left"><code>power_pass</code></td>
<td align="left">Password to access unit</td>
<td align="left">Optional</td>
</tr>
</tbody>
</table>
<p><a href="#heading--mscm"><h3 id="heading--mscm">Microsoft OCS - Chassis Manager</h3></a></p>
<p>All parameters are entered as <code>key=value</code>, e.g., <code>power_type=msftocs</code>.  The MAAS CLI will refuse the request with informative errors if required parameters are excluded.</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
<th align="left">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>power_type |</code>msftocs`</td>
<td align="left">Required</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>power_address</code></td>
<td align="left">IP address of unit</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>blade_id</code></td>
<td align="left">Blade ID (usu. 1-24)</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_port</code></td>
<td align="left">Port where unit is attached</td>
<td align="left">Optional</td>
</tr>
<tr>
<td align="left"><code>power_user</code></td>
<td align="left">Username to login</td>
<td align="left">Optional</td>
</tr>
<tr>
<td align="left"><code>power_pass</code></td>
<td align="left">Password to access unit</td>
<td align="left">Optional</td>
</tr>
</tbody>
</table>
<p><a href="#heading--nova"><h3 id="heading--nova">OpenStack Nova</h3></a></p>
<p>All parameters are entered as <code>key=value</code>, e.g., <code>power_type=nova</code>.  The MAAS CLI will refuse the request with informative errors if required parameters are excluded.</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
<th align="left">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>power_type |</code>nova`</td>
<td align="left">Required</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>nova_id</code></td>
<td align="left">Host UUID</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>os_tenantname</code></td>
<td align="left">Tenant name</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>os_username</code></td>
<td align="left">Username to login</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>os_password</code></td>
<td align="left">Password to access unit</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>os_authurl</code></td>
<td align="left">URL to access unit</td>
<td align="left">Required</td>
</tr>
</tbody>
</table>
<p><a href="#heading--openbmc"><h3 id="heading--openbmc">OpenBMC Power Driver</h3></a></p>
<p>All parameters are entered as <code>key=value</code>, e.g., <code>power_type=openbmc</code>.  The MAAS CLI will refuse the request with informative errors if required parameters are excluded.</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
<th align="left">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>power_type</code></td>
<td align="left"><code>openbmc</code></td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_address</code></td>
<td align="left">IP address of unit</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_user</code></td>
<td align="left">Username to login</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_pass</code></td>
<td align="left">Password to access unit</td>
<td align="left">Required</td>
</tr>
</tbody>
</table>
<p><a href="#heading--recs_box"><h3 id="heading--recs_box">Christmann RECS-Box Power Driver</h3></a></p>
<p>All parameters are entered as <code>key=value</code>, e.g., <code>power_type=recs_box</code>.  The MAAS CLI will refuse the request with informative errors if required parameters are excluded.</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
<th align="left">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>power_type |</code>recs_box`</td>
<td align="left">Required</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>node_id</code></td>
<td align="left">Node ID</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_address</code></td>
<td align="left">IP address of unit</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_port</code></td>
<td align="left">Port where unit is attached</td>
<td align="left">Optional</td>
</tr>
<tr>
<td align="left"><code>power_user</code></td>
<td align="left">Username to login</td>
<td align="left">Optional</td>
</tr>
<tr>
<td align="left"><code>power_pass</code></td>
<td align="left">Password to access unit</td>
<td align="left">Optional</td>
</tr>
</tbody>
</table>
<p><a href="#heading--redfish"><h3 id="heading--redfish">Redfish</h3></a></p>
<p>All parameters are entered as <code>key=value</code>, e.g., <code>power_type=redfish</code>.  The MAAS CLI will refuse the request with informative errors if required parameters are excluded.</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
<th align="left">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>power_type |</code>redfish`</td>
<td align="left">Required</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>power_address</code></td>
<td align="left">IP address of unit</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_user</code></td>
<td align="left">Username to login</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_pass</code></td>
<td align="left">Password to access unit</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>node_id</code></td>
<td align="left">Node ID</td>
<td align="left">Optional</td>
</tr>
</tbody>
</table>
<p><a href="#heading--sm15k"><h3 id="heading--sm15k">SeaMicro 15000</h3></a></p>
<p>All parameters are entered as <code>key=value</code>, e.g., <code>power_type=sm15k</code>.  The MAAS CLI will refuse the request with informative errors if required parameters are excluded.</p>
<p>Some of the fields for this power type have fixed choices, indicated in the &ldquo;Choices&rdquo; column.</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
<th align="left">Choices</th>
<th align="left">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>power_type</code></td>
<td align="left"><code>sm15k</code></td>
<td align="left"></td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>system_id</code></td>
<td align="left">System ID</td>
<td align="left"></td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_address</code></td>
<td align="left">IP address of unit</td>
<td align="left"></td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_control</code></td>
<td align="left">Password to access unit</td>
<td align="left">ipmi</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">restapi</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left">restapi2</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>power_user</code></td>
<td align="left">Username to login</td>
<td align="left"></td>
<td align="left">Optional</td>
</tr>
<tr>
<td align="left"><code>power_pass</code></td>
<td align="left">Password to access unit</td>
<td align="left"></td>
<td align="left">Optional</td>
</tr>
</tbody>
</table>
<p><a href="#heading--ucsm"><h3 id="heading--ucsm">Cisco UCS Manager</h3></a></p>
<p>All parameters are entered as <code>key=value</code>, e.g., <code>power_type=ucsm</code>.  The MAAS CLI will refuse the request with informative errors if required parameters are excluded.</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
<th align="left">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>power_type</code></td>
<td align="left"><code>ucsm</code></td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>uuid</code></td>
<td align="left">Server UUID</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_address</code></td>
<td align="left">URL for XML API</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_user</code></td>
<td align="left">API user</td>
<td align="left">Optional</td>
</tr>
<tr>
<td align="left"><code>power_pass</code></td>
<td align="left">API password</td>
<td align="left">Optional</td>
</tr>
</tbody>
</table>
<p><a href="#heading--virsh"><h3 id="heading--virsh">virsh - libvirt KVM</h3></a></p>
<p>All parameters are entered as <code>key=value</code>, e.g., <code>power_type=virsh</code>.  The MAAS CLI will refuse the request with informative errors if required parameters are excluded.</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
<th align="left">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>power_type</code></td>
<td align="left"><code>virsh</code></td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_id</code></td>
<td align="left">libvirt VM UUID</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_address</code></td>
<td align="left">URL of VM</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_pass</code></td>
<td align="left">API password</td>
<td align="left">Optional</td>
</tr>
</tbody>
</table>
<p><a href="#heading--vmware"><h3 id="heading--vmware">VMware</h3></a></p>
<p>All parameters are entered as <code>key=value</code>, e.g., <code>power_type=vmware</code>.  The MAAS CLI will refuse the request with informative errors if required parameters are excluded.</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
<th align="left">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>power_type</code></td>
<td align="left"><code>vmware</code></td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_vm_name</code></td>
<td align="left">VM name (if UUID unknown)</td>
<td align="left">Optional</td>
</tr>
<tr>
<td align="left"><code>power_uuid</code></td>
<td align="left">VM UUID (if known)</td>
<td align="left">Optional</td>
</tr>
<tr>
<td align="left"><code>power_address</code></td>
<td align="left">IP address of VM</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_user</code></td>
<td align="left">Username to access VM</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_pass</code></td>
<td align="left">Password to access VM</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_port</code></td>
<td align="left">VMware API port number</td>
<td align="left">Optional</td>
</tr>
<tr>
<td align="left"><code>power_protocol</code></td>
<td align="left">VMware API protocol</td>
<td align="left">Optional</td>
</tr>
</tbody>
</table>
<p><a href="#heading--wedge"><h3 id="heading--wedge">Facebook&rsquo;s Wedge</h3></a></p>
<p>All parameters are entered as <code>key=value</code>, e.g., <code>power_type=amt</code>.  The MAAS CLI will refuse the request with informative errors if required parameters are excluded.</p>
<table>
<thead>
<tr>
<th align="left">Parameter</th>
<th align="left">Description</th>
<th align="left">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>power_type</code></td>
<td align="left"><code>wedge</code></td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_address</code></td>
<td align="left">IP address of unit</td>
<td align="left">Required</td>
</tr>
<tr>
<td align="left"><code>power_user</code></td>
<td align="left">Username to access unit</td>
<td align="left">Optional</td>
</tr>
<tr>
<td align="left"><code>power_pass</code></td>
<td align="left">Password to access unit</td>
<td align="left">Optional</td>
</tr>
</tbody>
</table>
<p><a href="#heading--example-virsh-kvm-power-type"><h2 id="heading--example-virsh-kvm-power-type">How to use the virsh power type</h2></a></p>
<p>Consider a machine backed by a KVM, accessed via <code>virsh</code>.  You can create a corresponding MAAS machine and set its power parameters with a command like this one:</p>
<pre><code>maas admin machines create \
architecture=amd64 \
mac_addresses=52:54:00:15:36:f2 \
power_type=virsh \
power_parameters_power_id=f677a842-571c-4e65-adc9-11e2cf92d363 \
power_parameters_power_address=qemu+ssh://stormrider@192.168.123.1/system \
power_parameters_power_pass=xxxxxxxx
</code></pre>
<p>If successful, this will return: </p>
<pre><code>Success.
</code></pre>
<p>Machine-readable output follows this announcement.  The JSON generated by this command is shown in the detail block.</p>
<p><details><summary>MAAS command JSON response</summary></p>
<pre><code>{
    &quot;storage&quot;: 0.0,
    &quot;tag_names&quot;: [],
    &quot;special_filesystems&quot;: [],
    &quot;memory&quot;: 0,
    &quot;boot_disk&quot;: null,
    &quot;virtualblockdevice_set&quot;: [],
    &quot;hardware_info&quot;: {
        &quot;system_vendor&quot;: &quot;Unknown&quot;,
        &quot;system_product&quot;: &quot;Unknown&quot;,
        &quot;system_family&quot;: &quot;Unknown&quot;,
        &quot;system_version&quot;: &quot;Unknown&quot;,
        &quot;system_sku&quot;: &quot;Unknown&quot;,
        &quot;system_serial&quot;: &quot;Unknown&quot;,
        &quot;cpu_model&quot;: &quot;Unknown&quot;,
        &quot;mainboard_vendor&quot;: &quot;Unknown&quot;,
        &quot;mainboard_product&quot;: &quot;Unknown&quot;,
        &quot;mainboard_serial&quot;: &quot;Unknown&quot;,
        &quot;mainboard_version&quot;: &quot;Unknown&quot;,
        &quot;mainboard_firmware_vendor&quot;: &quot;Unknown&quot;,
        &quot;mainboard_firmware_date&quot;: &quot;Unknown&quot;,
        &quot;mainboard_firmware_version&quot;: &quot;Unknown&quot;,
        &quot;chassis_vendor&quot;: &quot;Unknown&quot;,
        &quot;chassis_type&quot;: &quot;Unknown&quot;,
        &quot;chassis_serial&quot;: &quot;Unknown&quot;,
        &quot;chassis_version&quot;: &quot;Unknown&quot;
    },
    &quot;address_ttl&quot;: null,
    &quot;memory_test_status&quot;: -1,
    &quot;other_test_status_name&quot;: &quot;Unknown&quot;,
    &quot;osystem&quot;: &quot;&quot;,
    &quot;status_message&quot;: &quot;Commissioning&quot;,
    &quot;netboot&quot;: true,
    &quot;physicalblockdevice_set&quot;: [],
    &quot;node_type&quot;: 0,
    &quot;cpu_test_status&quot;: -1,
    &quot;memory_test_status_name&quot;: &quot;Unknown&quot;,
    &quot;bcaches&quot;: [],
    &quot;storage_test_status&quot;: 0,
    &quot;system_id&quot;: &quot;bhxws3&quot;,
    &quot;status&quot;: 1,
    &quot;commissioning_status&quot;: 0,
    &quot;power_type&quot;: &quot;virsh&quot;,
    &quot;locked&quot;: false,
    &quot;numanode_set&quot;: [
        {
            &quot;index&quot;: 0,
            &quot;memory&quot;: 0,
            &quot;cores&quot;: []
        }
    ],
    &quot;bios_boot_method&quot;: null,
    &quot;fqdn&quot;: &quot;ace-swan.maas&quot;,
    &quot;node_type_name&quot;: &quot;Machine&quot;,
    &quot;hostname&quot;: &quot;ace-swan&quot;,
    &quot;volume_groups&quot;: [],
    &quot;testing_status&quot;: 0,
    &quot;network_test_status&quot;: -1,
    &quot;other_test_status&quot;: -1,
    &quot;interface_test_status&quot;: -1,
    &quot;hwe_kernel&quot;: null,
    &quot;blockdevice_set&quot;: [],
    &quot;testing_status_name&quot;: &quot;Pending&quot;,
    &quot;power_state&quot;: &quot;unknown&quot;,
    &quot;min_hwe_kernel&quot;: &quot;&quot;,
    &quot;owner&quot;: &quot;admin&quot;,
    &quot;distro_series&quot;: &quot;&quot;,
    &quot;storage_test_status_name&quot;: &quot;Pending&quot;,
    &quot;cpu_speed&quot;: 0,
    &quot;swap_size&quot;: null,
    &quot;cpu_test_status_name&quot;: &quot;Unknown&quot;,
    &quot;hardware_uuid&quot;: null,
    &quot;architecture&quot;: &quot;amd64/generic&quot;,
    &quot;pool&quot;: {
        &quot;name&quot;: &quot;default&quot;,
        &quot;description&quot;: &quot;Default pool&quot;,
        &quot;id&quot;: 0,
        &quot;resource_uri&quot;: &quot;/MAAS/api/2.0/resourcepool/0/&quot;
    },
    &quot;cache_sets&quot;: [],
    &quot;pod&quot;: null,
    &quot;iscsiblockdevice_set&quot;: [],
    &quot;disable_ipv4&quot;: false,
    &quot;status_action&quot;: &quot;&quot;,
    &quot;boot_interface&quot;: {
        &quot;name&quot;: &quot;eth0&quot;,
        &quot;id&quot;: 10,
        &quot;product&quot;: null,
        &quot;system_id&quot;: &quot;bhxws3&quot;,
        &quot;effective_mtu&quot;: 1500,
        &quot;children&quot;: [],
        &quot;link_connected&quot;: true,
        &quot;enabled&quot;: true,
        &quot;interface_speed&quot;: 0,
        &quot;numa_node&quot;: 0,
        &quot;firmware_version&quot;: null,
        &quot;parents&quot;: [],
        &quot;discovered&quot;: null,
        &quot;params&quot;: &quot;&quot;,
        &quot;links&quot;: [],
        &quot;sriov_max_vf&quot;: 0,
        &quot;tags&quot;: [],
        &quot;type&quot;: &quot;physical&quot;,
        &quot;vlan&quot;: null,
        &quot;vendor&quot;: null,
        &quot;link_speed&quot;: 0,
        &quot;mac_address&quot;: &quot;52:54:00:15:36:f2&quot;,
        &quot;resource_uri&quot;: &quot;/MAAS/api/2.0/nodes/bhxws3/interfaces/10/&quot;
    },
    &quot;cpu_count&quot;: 0,
    &quot;domain&quot;: {
        &quot;authoritative&quot;: true,
        &quot;ttl&quot;: null,
        &quot;resource_record_count&quot;: 0,
        &quot;name&quot;: &quot;maas&quot;,
        &quot;is_default&quot;: true,
        &quot;id&quot;: 0,
        &quot;resource_uri&quot;: &quot;/MAAS/api/2.0/domains/0/&quot;
    },
    &quot;current_testing_result_id&quot;: 7,
    &quot;default_gateways&quot;: {
        &quot;ipv4&quot;: {
            &quot;gateway_ip&quot;: null,
            &quot;link_id&quot;: null
        },
        &quot;ipv6&quot;: {
            &quot;gateway_ip&quot;: null,
            &quot;link_id&quot;: null
        }
    },
    &quot;interface_set&quot;: [
        {
            &quot;name&quot;: &quot;eth0&quot;,
            &quot;id&quot;: 10,
            &quot;product&quot;: null,
            &quot;system_id&quot;: &quot;bhxws3&quot;,
            &quot;effective_mtu&quot;: 1500,
            &quot;children&quot;: [],
            &quot;link_connected&quot;: true,
            &quot;enabled&quot;: true,
            &quot;interface_speed&quot;: 0,
            &quot;numa_node&quot;: 0,
            &quot;firmware_version&quot;: null,
            &quot;parents&quot;: [],
            &quot;discovered&quot;: null,
            &quot;params&quot;: &quot;&quot;,
            &quot;links&quot;: [],
            &quot;sriov_max_vf&quot;: 0,
            &quot;tags&quot;: [],
            &quot;type&quot;: &quot;physical&quot;,
            &quot;vlan&quot;: null,
            &quot;vendor&quot;: null,
            &quot;link_speed&quot;: 0,
            &quot;mac_address&quot;: &quot;52:54:00:15:36:f2&quot;,
            &quot;resource_uri&quot;: &quot;/MAAS/api/2.0/nodes/bhxws3/interfaces/10/&quot;
        }
    ],
    &quot;status_name&quot;: &quot;Commissioning&quot;,
    &quot;commissioning_status_name&quot;: &quot;Pending&quot;,
    &quot;owner_data&quot;: {},
    &quot;ip_addresses&quot;: [],
    &quot;raids&quot;: [],
    &quot;network_test_status_name&quot;: &quot;Unknown&quot;,
    &quot;description&quot;: &quot;&quot;,
    &quot;current_commissioning_result_id&quot;: 6,
    &quot;interface_test_status_name&quot;: &quot;Unknown&quot;,
    &quot;current_installation_result_id&quot;: null,
    &quot;zone&quot;: {
        &quot;name&quot;: &quot;default&quot;,
        &quot;description&quot;: &quot;&quot;,
        &quot;id&quot;: 1,
        &quot;resource_uri&quot;: &quot;/MAAS/api/2.0/zones/default/&quot;
    },
    &quot;resource_uri&quot;: &quot;/MAAS/api/2.0/machines/bhxws3/&quot;
}
</code></pre>
<p></details></p>
<p><a href="#heading--bmc-driver-support"><h2 id="heading--bmc-driver-support">Which BMC drivers are supported</h2></a></p>
<p>MAAS supports many types of BMC hardware, though not all the drivers have the same capabilities. See the below table for a feature comparison of the BMC drivers currently supported by MAAS.</p>
<p><details><summary>Tell me about BMC</summary></p>
<p>BMC, or &ldquo;Baseboard Management Controller,&rdquo; is an extra micro-controller on the motherboard of a server which forms the interface between system-management software and the device&rsquo;s hardware.  The BMC can collect data from attached sensors, alert administrators to issues, and respond to remote-control commands to control system operation or power state, independent of the system&rsquo;s CPU.</p>
<p>In the context of MAAS, the BMC is generally controlled by SNMP commands.  Any given BMC will function in the context of one or more &ldquo;power types,&rdquo; which are physical interfaces that permit use of the IPMI (&ldquo;Intelligent Platform Management Interface&rdquo;) protocol.  Each power type has a different set of expected parameters required to access and command the BMC.</p>
<p></details></p>
<table>
<colgroup>
<col width="35%" />
<col width="12%" />
<col width="10%" />
<col width="14%" />
<col width="15%" />
<col width="11%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Power Driver (<em>X=supported</em>)</th>
<th>PXE Next Boot</th>
<th>Power Querying</th>
<th>Chassis/Pod Configuration</th>
<th>Enhanced UI Error Reporting</th>
<th>BMC Enlistment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">American Power Conversion (APC) - PDU</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td align="left">Cisco UCS Manager</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td align="left">Digital Loggers, Inc. - PDU</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td align="left">Facebook's Wedge <code>*</code></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td align="left">HP Moonshot - iLO Chassis Manager</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td align="left">HP Moonshot - iLO4 (IPMI)</td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
<td>X</td>
</tr>
<tr class="odd">
<td align="left">IBM Hardware Management Console (HMC)</td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td align="left">IPMI</td>
<td>X</td>
<td>X</td>
<td></td>
<td>X</td>
<td>X</td>
</tr>
<tr class="odd">
<td align="left">Intel AMT</td>
<td>X</td>
<td>X</td>
<td></td>
<td>X</td>
<td></td>
</tr>
<tr class="even">
<td align="left">Manual</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td align="left">Microsoft OCS - Chassis Manager</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td align="left">OpenStack Nova</td>
<td></td>
<td>X</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td align="left">Rack Scale Design</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td align="left">Redfish</td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
<td>X</td>
</tr>

<tr class="odd">
<td align="left">SeaMicro 15000</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td align="left">Sentry Switch CDU - PDU</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td align="left">VMWare</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td align="left">Virsh (virtual systems)</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<p><code>*</code> The &lsquo;Facebook&rsquo;s Wedge&rsquo; OpenBMC power driver is considered experimental at this time.</p>
<p><a href="#heading--configure-use-ibm-z"><h2 id="heading--configure-use-ibm-z">How to configure and use IBM Z with MAAS</h2></a></p>
<p>The IBM Z or LinuxONE system can host MAAS controllers and is able to deploy predefined logical partitions (LPARs) KVM host(s), and virtual machines, if the mainframe is set up properly for MAAS.</p>
<p>The basic architecture is similar to this:</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/d/d78aec0bd5d5f485697701ed7316944f918fef94.png" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/d/d78aec0bd5d5f485697701ed7316944f918fef94.png"></a></p>
<p>Networking would be structured like this:</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/8/841305949182ba64037f9806396a0e60fdc46d23.png" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/8/841305949182ba64037f9806396a0e60fdc46d23.png"></a></p>
<p>Note that net-booting the KVM guests (through the two bridges) can be problematic.  There are two options:</p>
<ol>
<li>
<p>Adding VNIC characteristics to enable &ldquo;learning&rdquo; on the network interface that&rsquo;s the base for bridge &ldquo;br2.&rdquo;  This is the recommended approach.</p>
</li>
<li>
<p>Enable full promiscuous bridge port mode at the network interface that&rsquo;s the base for bridge &ldquo;br2.&rdquo;  This approach is not recommended because it has some built-in limitations.</p>
</li>
</ol>
<p>MAAS will automatically configure option 1 for you, in case an LPAR is deployed as KVM host (the bridge names may differ).</p>
<p>In order to achieve this configuration, there are a number of steps that must be executed; specifically, you must know how to:</p>
<ul style="margin-left:4px; list-style-type:disc;">
<li><a href="#heading--ibm-z-requirements">Evaluate IBM Z requirements</a></li>
<li><a href="#heading--ibm-z-login">Login to the IBM Z</a></li>
<li><a href="#heading--set-up-ibm-z-partition">Set up a suitable partition for MAAS</a></li>
<li><a href="#heading--set-up-ibm-z-networking">Set up networking for MAAS</a></li>
<li><a href="#heading--set-up-ibm-z-storage">Set up storage for MAAS</a></li>
<li><a href="#heading--set-the-boot-parameters">Set the partition boot parameters</a></li>
<li><a href="#heading--set-up-ibm-z-enlistment">Set up your IBM Z virtual machines for enlistment</a></li>
</ul>
<p>The MAAS controller does not necessarily need to run on an LPAR on the IBM Z system itself, but can also run on a different system outside. But since the MAAS controller requires a network connection to the hardware management console (HMC), it is recommended to keep it co-located and (for security reasons) as close as possible to the HMC and run it in a dedicated LPAR.</p>
<p>Such a MAAS controller LPAR should have at least two SMT hardware threads (one IFL), since it runs several services (bind, rack-, region-controller and more), 16 GB RAM and 100 GB disk space - recommended is to use the double amount of these resources.</p>
<p>The resources of the LPARs to deploy on (&lsquo;machines&rsquo; in terms of MAAS) depending on the use case. LPARs that are deployed as KVM host would of course require significantly more resources to be able to host KVM guest on top.</p>
<p>There are several constraints on the definition and setup of the &lsquo;machine&rsquo; LPARs - please see below.</p>
<p><a href="#heading--ibm-z-requirements"><h3 id="heading--ibm-z-requirements">Evaluate IBM Z requirements</h3></a></p>
<p>The system requirements to host MAAS and its virtual machines on the IBM Z platform are as follows:</p>
<ul style="margin-left:4px; list-style-type:disc;">
<li>IBM z14 GA2 (or newer) or IBM LinuxONE III (or newer)</li>
<li>HMC running in DPM mode (mandatory, traditional mode is not supported!)</li>
<li>HMC firmware level H39 - (HMC at H40 and SE at S55) </li>
<li>HMCs Rest-API enabled </li>
<li>python-zhmcclient (0.29 or later) running on the MAAS controller system, connected to the HMC</li>
<li>HMC user ID for the zhmcclient access to the HMC API (must have permissions for the “Manage Web Services API Logs” role and “Manage Web Services API Logs” role)</li>
<li>I/O auto-configuration enabled for the ‘machine’ LPARs</li>
<li>zFCP (SCSI) disk storage (only, no DASD support), recommended are two disks, one defined as type ‘boot,’ the second as type ‘data’</li>
<li>a dedicated storage group per ‘machine’ LPAR; these must include the dedicated zFCP storage for this particular managed LPAR only (‘boot’ and ‘data’ for LPAR n) - but no additional shared storage!</li>
<li>qeth network devices (Hipersockets or OSA, recommended); at least one qeth NIC, recommended two (or more)</li>
<li>Ubuntu Server 20.04 installed on a dedicated system (LPAR or PC), that acts as MAAS Controller</li>
<li>one or more LPARs as ‘machines’ (aka MAAS deployment targets)</li>
</ul>
<p>Be aware that these are minimum system requirements.</p>
<p><a href="#heading--ibm-z-login"><h3 id="heading--ibm-z-login">Access the HMC and login to the IBM Z</h3></a></p>
<p>To login to the HMC, you must have at least “system programmer” privileges. Gaining that level of access is beyond the scope of this document. Once you are sure that you have the necessary access, you first need to navigate to the Hardware Management Console (HMC) application in your Web browser:</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/d/d085c8113e403546484778c858c27344e8986597.png" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/d/d085c8113e403546484778c858c27344e8986597.png"></a></p>
<p>Click on the &ldquo;Log on&hellip;&rdquo; link, which will bring you to a login screen:</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/5/5ccdfac4dc985260dcedd01284d24c5e8e5199d9.png" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/5/5ccdfac4dc985260dcedd01284d24c5e8e5199d9.png"></a></p>
<p>Upon successfully logging on, you will land on the Welcome Screen:</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/d/d18afe140a1971621ed44fa5fae36033927e293e.png" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/d/d18afe140a1971621ed44fa5fae36033927e293e.png"></a></p>
<p>Select the &ldquo;Tasks Index&rdquo; on the left-hand navigation:</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/c/c030c8280b0a6dcfdd0365f9cf50238ae708e34b.jpeg" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/c/c030c8280b0a6dcfdd0365f9cf50238ae708e34b.jpeg"></a></p>
<p>From here, you will be able to access the commands needed to prepare your IBM Z to host MAAS.</p>
<p><a href="#heading--set-up-ibm-z-partition"><h3 id="heading--set-up-ibm-z-partition">Set up a suitable IBM Z partition for a MAAS machine</h3></a></p>
<p>In order to prevent MAAS from taking over the entire system, you must assign both the controller and the ‘machines’ / KVM hosts to specific partitions, with suitable limitations. To set up suitable IBM Z partitions for hosting MAAS, you must choose “Partition Details” from the “Tasks Index,” which will bring you to a screen like this one:</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/2/29e0cc00d68a5add1b13b1d50313ff6966f251a9.png" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/2/29e0cc00d68a5add1b13b1d50313ff6966f251a9.png"></a></p>
<p>You must then choose the “target object” (in this case we’ve chosen TA05) to be operated upon:</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/7/754c4926ecf5d9330b60c9b58bdd15bde6f24144.png" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/7/754c4926ecf5d9330b60c9b58bdd15bde6f24144.png"></a></p>
<p>Click “OK,” and you’ll arrive at a screen similar to the one below:</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/0/0ecf9bd89c132fd2c7ff8b879dd6c1b4d3090a99.png" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/0/0ecf9bd89c132fd2c7ff8b879dd6c1b4d3090a99.png"></a></p>
<p>Make sure you’re on the “Partitions” tab, and select the desired object (“TA05…”):</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/0/018d8309a1a16571df56a6672cff26e60f42075a.jpeg" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/0/018d8309a1a16571df56a6672cff26e60f42075a.jpeg"></a></p>
<p>Right-click on the selected object and select “Partition Details:”</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/5/5a7f696435b504eb212234acdd09c928f16b1670.jpeg" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/5/5a7f696435b504eb212234acdd09c928f16b1670.jpeg"></a></p>
<p>On the “General” tab, edit the partition details to suit your proposed MAAS deployment:</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/6/60ff5ca98d8b615ee4a947607872c973cf2c7f41.png" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/6/60ff5ca98d8b615ee4a947607872c973cf2c7f41.png"></a></p>
<p>Next, you will set up the networking details for this partition, as shown in the following section.</p>
<p><a href="#heading--set-up-ibm-z-networking"><h3 id="heading--set-up-ibm-z-networking">Set up IBM Z networking for a MAAS machine</h3></a></p>
<p>To properly enable networking within the IBMZ partitions, you must change to the “Network” tab under “Partition Details:”</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/d/daf386497781df42ba7ffaa518c1f186ebef66ee.png" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/d/daf386497781df42ba7ffaa518c1f186ebef66ee.png"></a></p>
<p>Click on the NIC of interest to bring up the “NIC Details” screen:</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/e/e9b65711cf97dd722db1b1df4b69d4f590166a99.png" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/e/e9b65711cf97dd722db1b1df4b69d4f590166a99.png"></a></p>
<p>Confirm that the parameters on this screen are consistent with your planned MAAS deployment, then bring up the network adapter(either OSA or Hipersockets) by selecting it:</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/0/0a0873d7cd40147884c861d1fcde15ddc37c8853.png" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/0/0a0873d7cd40147884c861d1fcde15ddc37c8853.png"></a></p>
<p>Ensure that all settings on the “General” tab conform to your planned MAAS deployment; then select the “Network Interface Cards” tab on the left-hand navigation:</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/0/0a0873d7cd40147884c861d1fcde15ddc37c8853.png" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/0/0a0873d7cd40147884c861d1fcde15ddc37c8853.png"></a></p>
<p>Again, ensure that the parameters associated with the networking arrangement are consistent with your planned MAAS deployment.</p>
<p>Next, you will set up the storage layout for your MAAS partition(s).</p>
<p><a href="#heading--set-up-ibm-z-storage"><h3 id="heading--set-up-ibm-z-storage">Set up IBM Z storage for a MAAS machine</h3></a></p>
<p>To set up suitable storage for a MAAS deployment, you should bring up the “Partition Details” for your chosen MAAS partition and select the “Storage” tab from the left-hand navigation:</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/c/c25792eeacd5aef57ca74a68b203c23ed74268d7.png" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/c/c25792eeacd5aef57ca74a68b203c23ed74268d7.png"></a></p>
<p>Choose the “VOLUMES” sub-tab, and lick on the hyperlinked partition name to bring up the storage configuration tab:</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/c/cf8d1427abda94ccd3b79966d06bee210ac1240b.png" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/c/cf8d1427abda94ccd3b79966d06bee210ac1240b.png"></a></p>
<p>Click on “GET DETAILS” for the Boot Volume in the Volume list to bring up the “Configuration details” screen:</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/a/a081c97b8196e708495156187b983b70c32fcdc5.png" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/a/a081c97b8196e708495156187b983b70c32fcdc5.png"></a></p>
<p>Ensure that the Boot Volume is configured appropriately for your planned MAAS deployment, then click “Done.” Then return to the storage configuration tab and choose the Data Volume, and tune it to the appropriate parameters.</p>
<p>Next, choose the “ADAPTERS” sub-tab to bring up information on the storage adapters:</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/8/821edff17e3fe8f2fbf9b5cb1682928dc9bb34d7.png" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/8/821edff17e3fe8f2fbf9b5cb1682928dc9bb34d7.png"></a></p>
<p>Set any necessary parameters to conform to your planned MAAS deployment.</p>
<p><a href="#heading--set-the-boot-parameters"><h3 id="heading--set-the-boot-parameters">Set the partition boot parameters</h3></a></p>
<p>Return to the “Partition Details” screen and select the “Boot” tab in the left-hand navigation:</p>
<p><a href="https://discourse.maas.io/uploads/default/original/2X/c/c5df4937135c1a9a1758b20855742bd038700c65.png" target = "_blank"><img src="https://discourse.maas.io/uploads/default/original/2X/c/c5df4937135c1a9a1758b20855742bd038700c65.png"></a></p>
<p>Change any settings as necessary to support your planned MAAS deployment.</p>
<p><a href="#heading--set-up-ibm-z-enlistment"><h3 id="heading--set-up-ibm-z-enlistment">Set up your IBM Z virtual machine for enlistment</h3></a></p>
<p>To cause IBM Z KVM partition guests to enlist, it’s necessary to manually put in the BMC information for each guest. MAAS can then detect the guest, enlist it, and boot it as necessary.</p>
    </div>
  </body>
</html>