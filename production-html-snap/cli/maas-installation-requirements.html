<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="css/stylesheet.css" />
    <style>
      #selector a:link{color:black;}
      #selector a:visited{color:black;}
      #selector a:active{color:black;}
      #selector a:hover{color:blue;}
      #sidebar a:link{color:black;}
      #sidebar a:visited{color:black;}
      #sidebar a:active{color:black;}
      #sidebar a:hover{color:blue;}
      ul {margin-left:0;margin-top:0;margin-bottom:0;list-style-type:none;padding-left:20px;}
      li {margin: 4px 0;}
      details {margin-top:0;margin-bottom:0;}
      details > summary {
	  padding: 0px;
	  margin-top: 0px;
	  margin-bottom: 0px;
	  width: 200px;
	  background-color: #ffffff;
	  border: none;
	  cursor: pointer;
    	  list-style-type: "< ";
	  direction: rtl;
      }
      details[open] > summary {
	  list-style-type: "v ";
      }
    </style>
  </head>
  <body>
    <div id="selector" style="top:0; position:fixed; float:right; background-color:#d9d9d9; width:100%;border-bottom:1px solid black;">
      &nbsp;&nbsp;
      <strong>Offline docs
      </strong>
      <a href="https://maas.io/docs">(switch to live docs)
      </a>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <a href="../ui/maas-installation-requirements.html">
          UI-only
        </a>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <span style="background-color:white;border-top:1px solid black; border-left:1px solid black; border-right:1px solid black; border-bottom:5px solid white;">
          &nbsp;CLI-only&nbsp;
      </span>
    </div>
    <div id="sidebar" style="float:left; width:25%;margin-top:40px; margin-left:20px">
      <ul>
	<li>
          <a href="maas-documentation.html"><b>MAAS Documentation</b></a>
	</li>
	<hr style="margin-top:15px;">
	<li>
          <details>
            <summary><a href="tutorials.html">Tutorials</a></summary>
            <ul>
              <li>
		<details>
                  <summary>Try out MAAS</summary>
		  <ul>
		    <li>
		      <a href="bootstrap-maas.html">Bootstrap MAAS</a>
		    </li>
		    <li>
		      <a href="get-to-know-your-machines.html">Get to know your machines</a>
		    </li>
		  </ul>
		</details>
              </li>
	      <li>
		<a href="try-out-the-maas-cli.html">Try out the MAAS CLI</a>
	      </li>
	      <li>
		<a href="create-custom-images.html">Create custom images</a>
	      </li>
	      <li>
		<a href="get-fancy-cli-output.html">Get fancy CLI output</a>
	      </li>
              <li>
		<details>
                  <summary>Primer tutorials</summary>
		  <ul>
		    <li>
		      <a href="primer-tutorial-the-osi-model.html">OSI model tutorial</a>
		    </li>
		  </ul>
		</details>
              </li>
            </ul>
          </details>
	</li>
	<hr style="margin-top:15px;">
	<li>
          <details>
            <summary><a href="how-to-guides.html">How-to guides</a></summary>
            <ul>
              <li>
		<details>
                  <summary><a href="get-started-with-maas.thml">Get started with MAAS</a></summary>
		  <ul>
                    <li>
                      <a href="do-a-fresh-install-of-maas.html">Do a fresh install of MAAS</a>
		    </li>
		    <li>
                      <a href="upgrade-maas.html">Upgrade MAAS</a>
		    </li>
		    <li>
                      <a href="spin-up-maas-with-ansible.html">Spin up MAAS with Ansible</a>
		    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
                  <summary><a href="set-up-networks.html">Set up networks</a></summary>
		  <ul>
                    <li>
                      <a href="connect-maas-networks.html">Connect MAAS networks</a>
                    </li>
                    <li>
                      <a href="enable-dhcp.html">Enable DHCP</a>
                    </li>
                    <li>
                      <a href="use-availability-zones.html">Use availability zones</a>
                    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
                  <summary><a href="use-images.html">Use images</a></summary>
		  <ul>
                    <li>
                      <a href="use-standard-images.html">Use standard images</a>
                    </li>
                    <li>
                      <a href="mirror-images-locally.html">Mirror images locally</a>
                    </li>
                    <li>
                      <a href="customise-images.html">Customise images</a>
                    </li>
                    <li>
                      <a href="employ-vmware-images.html">Employ VMWare images</a>
                    </li>
                    <li>
                      <a href="deply-a-rt-kernel.html">Deploy a RT kernel</a>
                    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
                  <summary><a href="manage-controllers.html">Manage controllers</a></summary>
		  <ul>
		    <li>
		      <a href="configure-controllers.html">Configure controllers</a>
		    </li>
		    <li>
		      <a href="enable-high-availability.html">Enable high availability</a>
		    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
                  <summary><a href="manage-machines.html">Manage machines</a></summary>
		  <ul>
		    <li>
		      <a href="make-machines-available.html">Make machines available</a>
		    </li>
		    <li>
		      <a href="customise-machines.html">Customise machines</a>
		    </li>
		    <li>
		      <a href="put-machines-to-work.html">Put machines to work</a>
		    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
                  <summary><a href="use-virtual-machines.html">Use virtual machines</a></summary>
		  <ul>
		    <li>
		      <a href="set-up-lxd.html">Set up LXD</a>
		    </li>
		    <li>
		      <a href="manage-vm-hosts.html">Manage VM hosts</a>
		    </li>
		    <li>
		      <a href="manage-virtual-machines.html">Manage virtual machines</a>
		    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
                  <summary><a href="label-devices.html">Label devices</a></summary>
		  <ul>
		    <li>
		      <a href="tag-machines.html">Tag machines</a>
		    </li>
		    <li>
		      <a href="annotate-machines.html">Annotate machines</a>
		    </li>
		    <li>
		      <a href="use-machine-tags.html">Use machine tags</a>
		    </li>
		    <li>
		      <a href="use-controller-tags.html">Use controller tags</a>
		    </li>
		    <li>
		      <a href="use-storage-tags.html">Use storage tags</a>
		    </li>
		    <li>
		      <a href="use-network-tags.html">Use network tags</a>
		    </li>
		  </ul>
		</details>
              </li>
	      <li>
		<details>
                  <summary><a href="secure-maas.html">Secure MAAS</a></summary>
		  <ul>
		    <li>
		      <a href=.html"improve-MAAS-security.html">Improve MAAS security</a>
		    </li>
		    <li>
		      <a href="manage-user-accounts.html">Manage user accounts</a>
		    </li>
		    <li>
		      <a href="enable-MAAS-native TLS.html">Enable MAAS native TLS</a>
		    </li>
		    <li>
		      <a href="use-Vault-with-MAAS.html">Use Vault with MAAS</a>
		    </li>
		    <li>
		      <a href="set-up-an-air-gapped MAAS.html">Set up an air-gapped MAAS</a>
		    </li>
		  </ul>
		</details>
              </li>
            </ul>
          </details>
	</li>
	<hr style="margin-top:15px;">
	<li>
          <details>
            <summary><a href="reference.html">Reference</a></summary>
            <ul>
	      <details>
		<summary><a href="release-notes.html">Release notes</a></summary>
		<ul>
		  <li>
		    <a href="maas-3-4-release notes.html">MAAS 3.4 release notes</a>
              	  </li>
		  <li>
              	    <a href="maas-3-3-release notes.html">MAAS 3.3 release notes</a>
              	  </li>
		  <li>
              	    <a href="maas-3-2-release notes.html">MAAS 3.2 release notes</a>
              	  </li>
		  <li>
              	    <a href="maas-3-1-release notes.html">MAAS 3.1 release notes</a>
              	  </li>
		  <li>
              	    <a href="maas-3-0-release notes.html">MAAS 3.0 release notes</a>
              	  </li>
		  <li>
              	    <a href="maas-2-9-release notes.html">MAAS 2.9 release notes</a>
              	  </li>
		  <li>
              	    <a href="maas-2-8-release notes.html">MAAS 2.8 release notes</a>
              	  </li>
		  <li>
              	    <a href="maas-2-7-release notes.html">MAAS 2.7 release notes</a>
              	  </li>
		</ul>
	      </details>
              <li>
		<details>
                  <summary><a href="general-reference.html">General</a></summary>
		  <ul>
		    <li>
		      <a href="maas-settings.html">Settings</a>
		    </li>
		    <li>
		      <a href="https://launchpad.net/maas">Source code</a>
		    </li>
		    <li>
		      <a href="doc-style-guide.html">Doc style guide</a>
		    </li>
		    <li>
		      <a href="glossary.html">Glossary</a>
		    </li>
		    <li>
		      <a href="https://ubuntu.com/community/code-of-conduct">Code of conduct</a>
		    </li>
		  </ul>
		</details>
	      </li>
              <li>
		<details>
		  <summary><a href="api.html">API</a></summary>
		  <ul>
		    <li>
                      <a href="api-authentication.html">API authentication</a>
                    </li>
		    <li>
                      <a href="python-api-client.html">Python API client</a>
                    </li>
		    <li>
                      <a href="/docs/api">API documentation</a>
                    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
		  <summary><a href="scripts.html">Scripts</a></summary>
		  <ul>
		    <li>
                      <a href="commissioning-scripts.html">Commissioning scripts</a>
                    </li>
		    <li>
                      <a href="hardware-test-scripts.html">Hardware test scripts</a>
                    </li>
		    <li>
                      <a href="terraform.html">Terraform</a>
                    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
		  <summary><a href="logging.html">Logging</a></summary>
		  <ul>
		    <li>
                      <a href="event-logs.html">Event logs</a>
                    </li>
		    <li>
                      <a href="audit-event-logs.html">Audit event logs</a>
                    </li>
		    <li>
                      <a href="commissioning-logs.html">Commissioning logs</a>
                    </li>
		    <li>
                      <a href="testing-logs.html">Testing logs</a>
                    </li>
		  </ul>
		</details>
              </li>
              <li>
		<details>
		  <summary><a href="machine-parameters.html">machine-parameters</a></summary>
		  <ul>
		    <li>
                      <a href=.html"power-drivers.html">Power drivers</a>
                    </li>
		    <li>
                      <a href="storage-layouts.html">Storage layouts</a>
                    </li>
		    <li>
                      <a href="device-labelling.html">Device labelling</a>
                    </li>
		  </ul>
		</details>
              </li>
	    </ul>
	  </details>
	</li>
	<hr style="margin-top:15px;">
	<li>
	  <details>
	    <summary><a href="explanation.html">Explanation</a></summary>
	    <ul>
	      <li>
		<a href="maas.html">About MAAS</a>
		-           </li>
	      <li>
		<a href=.html"high-availability.html">High availability</a>
              </li>
	      <li>
		<details>
		  <summary>Networking</summary>
		  <ul>
		    <li>
		      <a href="maas-networks.html">MAAS networks</a>
		    </li>
		    <li>
		      <a href="tcp/IP-primer.html">TCP/IP primer</a>
		    </li>
		    <li>
		      <a href="dhcp-primer.html">DHCP primer</a>
		    </li>
		    <li>
		      <a href="cloud-networking-primer.html">Cloud networking primer</a>
		    </li>
		  </ul>
		</details>
	      </li>
	      <li>
		<a href="images.html">Images</a>
              </li>
	      <li>
		<a href="controllers.html">Controllers</a>
              </li>
	      <li>
		<a href="machines.html">Machines</a>
              </li>
	      <li>
		<a href="virtual-machines.html">Virtual machines</a>
              </li>
	      <li>
		<a href="device-labels.html">Device labels</a>
              </li>
	      <li>
		<a href="maas-events.html">Events</a>
              </li>
	      <li>
		<a href="audit-events.html">Audit events</a>
              </li>
	      <li>
		<a href="maas-logging.html">Logging</a>
              </li>
	      <li>
		<a href="maas-security.html">Security</a>
              </li>
	      <li>
		<a href="maas-performance.html">Performance</a>
              </li>
	      <li>
		<a href="ansible.html">Ansible</a>
              </li>
	    </ul>
	  </details>
	</li>
      </ul>
    </div>
    <div class="container" style="float:right; width:65%; margin-top:40px; margin-right:30px">
      <h1><!-- MAAS installation requirements --></h1><!-- MAAS installation requirements -->
<p>Before installing MAAS for the first time, you should make sure that the target system meets the minimum requirements for the machines that run MAAS, which vary widely depending on local implementation and usage.  Below, you will find resource estimates based on MAAS components and operating system (Ubuntu Server). We consider both a test configuration (for proof of concept) and a production environment.</p>
<p><a href="#heading--maas-ntp-and-chrony"><h2 id="heading--maas-ntp-and-chrony">MAAS, NTP, and chrony</h2></a></p>
<p>When installing MAAS on Ubuntu, there can be conflicts between the existing NTP client, <code>systemd-timesyncd</code>, and the NTP client/server provided by MAAS, <code>chrony</code>. This can lead to time synchronization issues, especially if MAAS is configured with different upstream NTP servers than the ones used by <code>systemd-timesyncd</code>.  Appropriate instructions are provided in the MAAS <a href="how-to-do-a-fresh-install-of-maas.html#heading--installation-notes">installation guide</a>.</p>
<p><a href="#heading--test-environment"><h2 id="heading--test-environment">Requirements for a test environment</h2></a></p>
<p>Here is a proof-of-concept scenario, with all MAAS components installed on a single host. This scenario assumes two complete sets of images (latest two Ubuntu LTS releases) for a single architecture (amd64).</p>
<table>
<thead>
<tr>
<th style="text-align: left;"></th>
<th style="text-align: right;">Memory (MB)</th>
<th style="text-align: right;">CPU (GHz)</th>
<th style="text-align: right;">Disk (GB)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><a href="maas-glossary.html#heading--controllers">Region controller</a> (minus PostgreSQL)</td>
<td style="text-align: right;">512</td>
<td style="text-align: right;">0.5</td>
<td style="text-align: right;">5</td>
</tr>
<tr>
<td style="text-align: left;">PostgreSQL</td>
<td style="text-align: right;">512</td>
<td style="text-align: right;">0.5</td>
<td style="text-align: right;">5</td>
</tr>
<tr>
<td style="text-align: left;"><a href="maas-glossary.html#heading--controllers&quot;">Rack controller</a></td>
<td style="text-align: right;">512</td>
<td style="text-align: right;">0.5</td>
<td style="text-align: right;">5</td>
</tr>
<tr>
<td style="text-align: left;">Ubuntu Server (including logs)</td>
<td style="text-align: right;">512</td>
<td style="text-align: right;">0.5</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table>
<p>Based on this table, the approximate requirements for this scenario are 2 GB memory, 2 GHz CPU, and 20 GB of disk space.</p>
<p><a href="#heading--production-environment"><h2 id="heading--production-environment">Requirements for a production environment</h2></a></p>
<p>Here is a production scenario designed to handle a high number of sustained client connections. This scenario implements both high availability (region and rack) and load balancing (region). MAAS reserves extra space for images (database and rack controller), while some images, such as those for Microsoft Windows, may require a lot more &ndash; so plan accordingly.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"></th>
<th style="text-align: right;">Memory (MB)</th>
<th style="text-align: right;">CPU (GHz)</th>
<th style="text-align: right;">Disk (GB)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><a href="maas-glossary.html#heading--controllers">Region controller</a> (minus PostgreSQL)</td>
<td style="text-align: right;">2048</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">5</td>
</tr>
<tr>
<td style="text-align: left;">PostgreSQL</td>
<td style="text-align: right;">2048</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">20</td>
</tr>
<tr>
<td style="text-align: left;"><a href="maas-glossary.html#heading--controllers&quot;">Rack controller</a></td>
<td style="text-align: right;">2048</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">20</td>
</tr>
<tr>
<td style="text-align: left;">Ubuntu Server (including logs)</td>
<td style="text-align: right;">512</td>
<td style="text-align: right;">0.5</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table>
<p>So, based on the above, the approximate requirements for this scenario are:</p>
<ul style="margin-left:4px; list-style-type:disc;">
<li>A region controller (including PostgreSQL) installed on one host, with 4.5 GB memory, 4.5 GHz CPU, and 45 GB of disk space.</li>
<li>A duplicate region controller (including PostgreSQL) on a second host, also with 4.5 GB memory, 4.5 GHz CPU, and 45 GB of disk space.</li>
<li>A rack controller installed on a third host, with 2.5 GB memory, 2.5 GHz CPU, and 40 GB of disk space.</li>
<li>A duplicate rack controller on a fourth host, also with 2.5 GB memory, 2.5 GHz CPU, and 40 GB of disk space.</li>
</ul>
<p>The tables above refer to MAAS infrastructure only. They do not cover the resources needed by subsequently-added nodes. Note that machines should have IPMI-based BMC controllers for power cycling, see <a href="power-drivers-reference.html">Power management</a> for more details.</p>
<p>Some examples of factors that influence hardware specifications include:</p>
<ul style="margin-left:4px; list-style-type:disc;">
<li>the number of connecting clients (client activity)</li>
<li>how you decide to distribute services</li>
<li>whether or not you use <a href="how-to-enable-high-availability.html">high availability/load balancing</a>.</li>
<li>the number of images that you choose to store (disk space affecting PostgreSQL and the rack controller)</li>
</ul>
<p>Also, this discussion does not take into account a possible local image mirror, which would be a large consumer of disk space.</p>
<p>One rack controller should only service 1000 machines or less, regardless of how you distribute them across subnets. There is no load balancing at the rack level, so you will need additional, independent rack controllers. Each controller must service its own subnet(s).</p>
    </div>
  </body>
</html>